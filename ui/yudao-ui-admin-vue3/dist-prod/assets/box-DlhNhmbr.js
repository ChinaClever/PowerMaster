import{d as Ie,u as Me,e as v,f as Ye,g as Ce,aj as ze,aX as ie,h as He,o as V,n as U,w,l as Y,j as o,t as N,a as p,c as C,q as H,k as _,m as T,s as Fe,aY as pe,F as oe,p as Be,aZ as Se,c5 as $e,O as Le,S as Re,N as Ue,P as Te,_ as Ee,A as Pe,Q as je,D as qe,G as Ge,R as Je,J as Ke,K as Oe}from"./index-mcOGIq4g.js";import{_ as Qe}from"./CommonMenu-CxUjeIT-.js";import{_ as Xe}from"./index.vue_vue_type_script_setup_true_lang-DcNux-x9.js";import{d as Ze}from"./download--D_IyRio.js";import{H as F}from"./index-ChAXw4Sp.js";import{I as ea}from"./index-D-gmWooi.js";import{f as ne,e as _e,c as ue,a as aa}from"./formatTime-f-_athMZ.js";import{u as ta}from"./useMessage-CGTQbR_M.js";import{_ as la}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-BHQCcaX3.js";import"./el-card-FPJq94NZ.js";import"./NavTree-CcS5UKLK.js";import"./index-BFNvSS9e.js";const b=z=>(Ke("data-v-cf98b1ed"),z=z(),Oe(),z),ra=b(()=>o("br",null,null,-1)),ia=b(()=>o("br",null,null,-1)),pa={class:"nav_data"},oa={class:"descriptions-container",style:{"font-size":"14px"}},na={class:"description-item"},_a=b(()=>o("span",{class:"label"},"\u603B\u6570\u636E :",-1)),ua={class:"value"},va={class:"description-item"},ca=b(()=>o("span",{class:"label"},"\u76F8\u6570\u636E :",-1)),wa={class:"value"},sa={class:"description-item"},ma=b(()=>o("span",{class:"label"},"\u56DE\u8DEF\u6570\u636E :",-1)),da={class:"value"},ba={class:"description-item"},ga=b(()=>o("span",{class:"label"},"\u8F93\u51FA\u4F4D\u6570\u636E :",-1)),xa={class:"value"},ha={style:{"font-size":"14px"}},fa={key:0},ka=[b(()=>o("span",null,"\u63D2\u63A5\u7BB1\u6700\u8FD1\u4E00\u5206\u949F\u65B0\u589E\u8BB0\u5F55",-1))],ya={key:1},Va=[b(()=>o("span",null,"\u63D2\u63A5\u7BB1\u6700\u8FD1\u4E00\u5C0F\u65F6\u65B0\u589E\u8BB0\u5F55",-1))],Wa={key:2},Da=[b(()=>o("span",null,"\u63D2\u63A5\u7BB1\u6700\u8FD1\u4E00\u5929\u65B0\u589E\u8BB0\u5F55",-1))],Aa=b(()=>o("div",{class:"line",style:{"margin-top":"10px"}},null,-1)),Na=b(()=>o("tr",null,[o("td",{colspan:"\u5217\u6570",style:{"text-align":"center",padding:"12px 0"}},[o("span",{style:{margin:"0 12px",color:"red"}},"\u6570\u636E\u91CF\u8FC7\u5927\uFF0C\u8BF7\u7B5B\u9009\u540E\u67E5\u770B\u66F4\u591A\u6570\u636E\u3002")])],-1)),Ia={class:"realTotal"},Ma=la(Ie({name:"BusHistoryData",__name:"box",setup(z){const{push:ve}=Me(),E=v([]),P=v(0),j=v(0),q=v(0),G=v(0),W=v(),ce=ta(),B=v(!0),J=v([]),I=v(0),K=v(0),l=Ye({pageNo:1,pageSize:15,lineId:void 0,loopId:void 0,outletId:void 0,type:"total",granularity:"realtime",timeRange:void 0,devkeys:[],columnsToExclude:["outlet_id"]}),we=v([15,30,50,100]),se=v(),S=v(!1),me=[{text:"\u6700\u8FD1\u4E00\u5C0F\u65F6",value:()=>{const a=new Date,e=new Date;return e.setHours(e.getHours()-1),[e,a]}},{text:"\u6700\u8FD1\u4E00\u5929",value:()=>{const a=new Date,e=new Date;return e.setDate(e.getDate()-1),[e,a]}},{text:"\u6700\u8FD1\u4E00\u5468",value:()=>{const a=new Date,e=new Date;return e.setDate(e.getDate()-7),[e,a]}},{text:"\u6700\u8FD1\u4E00\u4E2A\u6708",value:()=>{const a=new Date,e=new Date;return e.setMonth(e.getMonth()-1),[e,a]}},{text:"\u6700\u8FD1\u516D\u4E2A\u6708",value:()=>{const a=new Date,e=new Date;return e.setMonth(e.getMonth()-6),[e,a]}}],$=v(["total"]),O=v([]),de=a=>{switch(l.type=a[0],a[0]){case"line":l.lineId=a[1],l.loopId=void 0,l.outletId=void 0;break;case"loop":l.loopId=a[1],l.lineId=void 0,l.outletId=void 0;break;case"outlet":l.outletId=a[1],l.loopId=void 0,l.lineId=void 0;break;case"total":l.lineId=void 0,l.loopId=void 0,l.outletId=void 0}L()},be={multiple:!0},m=v([["pow_active"],["pow_reactive"],["pow_apparent"],["power_factor"]]),x=v([{value:"pow_active",label:"\u603B\u6709\u529F\u529F\u7387"},{value:"pow_reactive",label:"\u603B\u65E0\u529F\u529F\u7387"},{value:"pow_apparent",label:"\u603B\u89C6\u5728\u529F\u7387"},{value:"power_factor",label:"\u529F\u7387\u56E0\u7D20"}]),h=v(["pow_active","pow_reactive","pow_apparent","power_factor"]),ge=a=>{let e=a.map(u=>u[u.length-1]),i=h.value.filter(u=>!e.includes(u));g.value.forEach(u=>{var y,A;for(const D of e)if((y=u.prop)!=null&&y.startsWith(D)){u.istrue=!0;break}for(const D of i)if((A=u.prop)!=null&&A.startsWith(D)){u.istrue=!1;break}})},xe=()=>{Z()},he=Ce(()=>{const a=Math.ceil(I.value/l.pageSize);return l.pageNo===a&&I.value>=1e4});ze(()=>[l.type,l.granularity],a=>{const[e,i]=a;e=="total"&&(i=="realtime"?(m.value=[["pow_active"],["pow_reactive"],["pow_apparent"],["power_factor"]],x.value=[{value:"pow_active",label:"\u603B\u6709\u529F\u529F\u7387"},{value:"pow_reactive",label:"\u603B\u65E0\u529F\u529F\u7387"},{value:"pow_apparent",label:"\u603B\u89C6\u5728\u529F\u7387"},{value:"power_factor",label:"\u529F\u7387\u56E0\u7D20"}],h.value=["pow_active","pow_reactive","pow_apparent","power_factor"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",width:"250px",istrue:!0},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",width:"250px",istrue:!0},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u603B\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active",istrue:!0,width:"160px",formatter:t},{label:"\u603B\u65E0\u529F\u529F\u7387(kVar)",align:"center",prop:"pow_reactive",istrue:!0,width:"160px",formatter:t},{label:"\u603B\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent",istrue:!0,width:"160px",formatter:t},{label:"\u529F\u7387\u56E0\u7D20",align:"center",prop:"power_factor",istrue:!0,width:"160px",formatter:M},{label:"\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,width:"200px",istrue:!0},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d()):(m.value=[["pow_active","pow_active_avg_value"],["pow_active","pow_active_max"],["pow_active","pow_active_min"]],x.value=[{value:"pow_active",label:"\u6709\u529F\u529F\u7387",children:[{value:"pow_active_avg_value",label:"\u5E73\u5747\u6709\u529F\u529F\u7387"},{value:"pow_active_max",label:"\u6700\u5927\u6709\u529F\u529F\u7387"},{value:"pow_active_min",label:"\u6700\u5C0F\u6709\u529F\u529F\u7387"}]},{value:"pow_reactive",label:"\u65E0\u529F\u529F\u7387",children:[{value:"pow_reactive_avg_value",label:"\u5E73\u5747\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_max",label:"\u6700\u5927\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_min",label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387"}]},{value:"pow_apparent",label:"\u89C6\u5728\u529F\u7387",children:[{value:"pow_apparent_avg_value",label:"\u5E73\u5747\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_max",label:"\u6700\u5927\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_min",label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387"}]}],h.value=["pow_active_avg_value","pow_active_max","pow_active_min","pow_reactive_avg_value","pow_reactive_max","pow_reactive_min","pow_apparent_avg_value","pow_apparent_max","pow_apparent_min"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u5E73\u5747\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_avg_value",istrue:!0,width:"160px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_max_value",istrue:!0,width:"160px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_max_time",formatter:r,width:"200px",istrue:!0},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_min_value",istrue:!0,width:"160px",formatter:t},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_min_time",formatter:r,width:"200px",istrue:!0},{label:"\u5E73\u5747\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_avg_value",istrue:!1,width:"160px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_max_value",istrue:!1,width:"160px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_max_time",formatter:r,width:"200px",istrue:!1},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_min_value",istrue:!1,width:"160px",formatter:t},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_min_time",formatter:r,width:"200px",istrue:!1},{label:"\u5E73\u5747\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_avg_value",istrue:!1,width:"160px, formatter: formatPower"},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_max_value",istrue:!1,width:"160px",formatter:t},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_max_time",formatter:r,width:"200px",istrue:!1},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_min_value",istrue:!1,width:"160px",formatter:t},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_min_time",formatter:r,width:"200px",istrue:!1},{label:"\u8BB0\u5F55\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,width:"200px",istrue:!0},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d())),e=="line"&&(i=="realtime"?(m.value=[["vol_value"],["cur_value"],["pow_active"],["pow_reactive"],["pow_apparent"],["power_factor"],["load_rate"],["cur_thd"]],x.value=[{value:"pow_active",label:"\u6709\u529F\u529F\u7387"},{value:"pow_reactive",label:"\u65E0\u529F\u529F\u7387"},{value:"pow_apparent",label:"\u89C6\u5728\u529F\u7387"},{value:"power_factor",label:"\u529F\u7387\u56E0\u7D20"},{value:"vol_value",label:"\u7535\u538B"},{value:"cur_value",label:"\u7535\u6D41"},{value:"load_rate",label:"\u8D1F\u8F7D\u7387"},{value:"cur_thd",label:"\u7535\u6D41\u8C10\u6CE2\u542B\u91CF"}],h.value=["vol_value","cur_value","pow_active","pow_reactive","pow_apparent","power_factor","load_rate","cur_thd"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u76F8",align:"center",prop:"line_id",istrue:!0,formatter:Q,width:"140px"},{label:"\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active",istrue:!0,formatter:t,width:"140px"},{label:"\u65E0\u529F\u529F\u7387(kVar)",align:"center",prop:"pow_reactive",istrue:!0,formatter:t,width:"140px"},{label:"\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent",istrue:!0,formatter:t,width:"140px"},{label:"\u529F\u7387\u56E0\u7D20",align:"center",prop:"power_factor",istrue:!0,formatter:M,width:"140px"},{label:"\u7535\u538B(V)",align:"center",prop:"vol_value",istrue:!0,formatter:f,width:"140px"},{label:"\u7535\u6D41(A)",align:"center",prop:"cur_value",istrue:!0,formatter:k,width:"140px"},{label:"\u8D1F\u8F7D\u7387",align:"center",prop:"load_rate",istrue:!0,width:"140px"},{label:"\u7535\u6D41\u8C10\u6CE2\u542B\u91CF",align:"center",prop:"cur_thd",istrue:!0,width:"140px"},{label:"\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,istrue:!0,width:"220px"},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d()):(m.value=[["pow_active","pow_active_avg_value"],["pow_active","pow_active_max"],["pow_active","pow_active_min"]],x.value=[{value:"pow_active",label:"\u6709\u529F\u529F\u7387",children:[{value:"pow_active_avg_value",label:"\u5E73\u5747\u6709\u529F\u529F\u7387"},{value:"pow_active_max",label:"\u6700\u5927\u6709\u529F\u529F\u7387"},{value:"pow_active_min",label:"\u6700\u5C0F\u6709\u529F\u529F\u7387"}]},{value:"pow_reactive",label:"\u65E0\u529F\u529F\u7387",children:[{value:"pow_reactive_avg_value",label:"\u5E73\u5747\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_max",label:"\u6700\u5927\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_min",label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387"}]},{value:"pow_apparent",label:"\u89C6\u5728\u529F\u7387",children:[{value:"pow_apparent_avg_value",label:"\u5E73\u5747\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_max",label:"\u6700\u5927\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_min",label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387"}]},{value:"vol_value",label:"\u7535\u538B",children:[{value:"vol_avg_value",label:"\u5E73\u5747\u7535\u538B"},{value:"vol_max",label:"\u6700\u5927\u7535\u538B"},{value:"vol_min",label:"\u6700\u5C0F\u7535\u538B"}]},{value:"cur_value",label:"\u7535\u6D41",children:[{value:"cur_avg_value",label:"\u5E73\u5747\u7535\u6D41"},{value:"cur_max",label:"\u6700\u5927\u7535\u6D41"},{value:"cur_min",label:"\u6700\u5C0F\u7535\u6D41"}]},{value:"cur_thd",label:"\u7535\u6D41\u8C10\u6CE2\u542B\u91CF",children:[{value:"cur_thd_avg",label:"\u5E73\u5747\u7535\u6D41\u8C10\u6CE2\u542B\u91CF"},{value:"cur_thd_max",label:"\u6700\u5927\u7535\u6D41\u8C10\u6CE2\u542B\u91CF"},{value:"cur_thd_min",label:"\u6700\u5C0F\u7535\u6D41\u8C10\u6CE2\u542B\u91CF"}]}],h.value=["vol_avg_value","vol_max","vol_min","cur_avg_value","cur_max","cur_min","vol_line_avg_value","vol_line_max","vol_line_min","pow_active_avg_value","pow_active_max","pow_active_min","pow_reactive_avg_value","pow_reactive_max","pow_reactive_min","pow_apparent_avg_value","pow_apparent_max","pow_apparent_min","cur_thd_avg","cur_thd_max","cur_thd_min"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u76F8",align:"center",prop:"line_id",istrue:!0,width:"100px",formatter:Q},{label:"\u5E73\u5747\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_avg_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_max_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_max_time",formatter:r,width:"230px",istrue:!0},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_min_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_min_time",formatter:r,width:"230px",istrue:!0},{label:"\u5E73\u5747\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_avg_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_max_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_min_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_avg_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_max_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_min_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u7535\u538B(V)",align:"center",prop:"vol_avg_value",istrue:!1,width:"140px",formatter:f},{label:"\u6700\u5927\u7535\u538B(V)",align:"center",prop:"vol_max_value",istrue:!1,width:"120px",formatter:f},{label:"\u6700\u5927\u7535\u538B\u65F6\u95F4",align:"center",prop:"vol_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u7535\u538B(V)",align:"center",prop:"vol_min_value",istrue:!1,width:"140px",formatter:f},{label:"\u6700\u5C0F\u7535\u538B\u65F6\u95F4",align:"center",prop:"vol_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u7535\u6D41(A)",align:"center",prop:"cur_avg_value",istrue:!1,width:"140px",formatter:k},{label:"\u6700\u5927\u7535\u6D41(A)",align:"center",prop:"cur_max_value",istrue:!1,width:"140px",formatter:k},{label:"\u6700\u5927\u7535\u6D41\u65F6\u95F4",align:"center",prop:"cur_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u7535\u6D41(A)",align:"center",prop:"cur_min_value",istrue:!1,width:"140px",formatter:k},{label:"\u6700\u5C0F\u7535\u6D41\u65F6\u95F4",align:"center",prop:"cur_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u7535\u6D41\u8C10\u6CE2\u542B\u91CF",align:"center",prop:"cur_thd_avg_value",istrue:!1,width:"140px"},{label:"\u6700\u5927\u7535\u6D41\u8C10\u6CE2\u542B\u91CF",align:"center",prop:"cur_thd_max_value",istrue:!1,width:"120px"},{label:"\u6700\u5927\u7535\u6D41\u8C10\u6CE2\u542B\u91CF\u65F6\u95F4",align:"center",prop:"cur_thd_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u7535\u6D41\u8C10\u6CE2\u542B\u91CF",align:"center",prop:"cur_thd_min_value",istrue:!1,width:"140px"},{label:"\u6700\u5C0F\u7535\u6D41\u8C10\u6CE2\u542B\u91CF\u65F6\u95F4",align:"center",prop:"cur_thd_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u8BB0\u5F55\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,width:"230px",istrue:!0},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d())),e=="loop"&&(i=="realtime"?(m.value=[["vol_value"],["cur_value"],["pow_active"],["pow_reactive"],["pow_apparent"],["power_factor"]],x.value=[{value:"pow_active",label:"\u6709\u529F\u529F\u7387"},{value:"pow_reactive",label:"\u65E0\u529F\u529F\u7387"},{value:"pow_apparent",label:"\u89C6\u5728\u529F\u7387"},{value:"power_factor",label:"\u529F\u7387\u56E0\u7D20"},{value:"vol_value",label:"\u7535\u538B"},{value:"cur_value",label:"\u7535\u6D41"}],h.value=["vol_value","cur_value","pow_active","pow_reactive","pow_apparent","power_factor"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u56DE\u8DEF",align:"center",prop:"loop_id",istrue:!0,formatter:X,width:"140px"},{label:"\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active",istrue:!0,formatter:t,width:"140px"},{label:"\u65E0\u529F\u529F\u7387(kVar)",align:"center",prop:"pow_reactive",istrue:!0,formatter:t,width:"140px"},{label:"\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent",istrue:!0,formatter:t,width:"140px"},{label:"\u529F\u7387\u56E0\u7D20",align:"center",prop:"power_factor",istrue:!0,formatter:M,width:"140px"},{label:"\u7535\u538B(V)",align:"center",prop:"vol_value",istrue:!0,formatter:f,width:"140px"},{label:"\u7535\u6D41(A)",align:"center",prop:"cur_value",istrue:!0,formatter:k,width:"140px"},{label:"\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,istrue:!0,width:"220px"},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d()):(m.value=[["pow_active","pow_active_avg_value"],["pow_active","pow_active_max"],["pow_active","pow_active_min"]],x.value=[{value:"pow_active",label:"\u6709\u529F\u529F\u7387",children:[{value:"pow_active_avg_value",label:"\u5E73\u5747\u6709\u529F\u529F\u7387"},{value:"pow_active_max",label:"\u6700\u5927\u6709\u529F\u529F\u7387"},{value:"pow_active_min",label:"\u6700\u5C0F\u6709\u529F\u529F\u7387"}]},{value:"pow_reactive",label:"\u65E0\u529F\u529F\u7387",children:[{value:"pow_reactive_avg_value",label:"\u5E73\u5747\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_max",label:"\u6700\u5927\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_min",label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387"}]},{value:"pow_apparent",label:"\u89C6\u5728\u529F\u7387",children:[{value:"pow_apparent_avg_value",label:"\u5E73\u5747\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_max",label:"\u6700\u5927\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_min",label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387"}]},{value:"vol_value",label:"\u7535\u538B",children:[{value:"vol_avg_value",label:"\u5E73\u5747\u7535\u538B"},{value:"vol_max",label:"\u6700\u5927\u7535\u538B"},{value:"vol_min",label:"\u6700\u5C0F\u7535\u538B"}]},{value:"cur_value",label:"\u7535\u6D41",children:[{value:"cur_avg_value",label:"\u5E73\u5747\u7535\u6D41"},{value:"cur_max",label:"\u6700\u5927\u7535\u6D41"},{value:"cur_min",label:"\u6700\u5C0F\u7535\u6D41"}]}],h.value=["vol_avg_value","vol_max","vol_min","cur_avg_value","cur_max","cur_min","pow_active_avg_value","pow_active_max","pow_active_min","pow_reactive_avg_value","pow_reactive_max","pow_reactive_min","pow_apparent_avg_value","pow_apparent_max","pow_apparent_min"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u56DE\u8DEF",align:"center",prop:"loop_id",istrue:!0,width:"100px",formatter:X},{label:"\u5E73\u5747\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_avg_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_max_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_max_time",formatter:r,width:"230px",istrue:!0},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_min_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_min_time",formatter:r,width:"230px",istrue:!0},{label:"\u5E73\u5747\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_avg_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_max_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_min_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_avg_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_max_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_min_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u7535\u538B(V)",align:"center",prop:"vol_avg_value",istrue:!1,width:"140px",formatter:f},{label:"\u6700\u5927\u7535\u538B(V)",align:"center",prop:"vol_max_value",istrue:!1,width:"120px",formatter:f},{label:"\u6700\u5927\u7535\u538B\u65F6\u95F4",align:"center",prop:"vol_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u7535\u538B(V)",align:"center",prop:"vol_min_value",istrue:!1,width:"140px",formatter:f},{label:"\u6700\u5C0F\u7535\u538B\u65F6\u95F4",align:"center",prop:"vol_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u7535\u6D41(A)",align:"center",prop:"cur_avg_value",istrue:!1,width:"140px",formatter:k},{label:"\u6700\u5927\u7535\u6D41(A)",align:"center",prop:"cur_max_value",istrue:!1,width:"140px",formatter:k},{label:"\u6700\u5927\u7535\u6D41\u65F6\u95F4",align:"center",prop:"cur_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u7535\u6D41(A)",align:"center",prop:"cur_min_value",istrue:!1,width:"140px",formatter:k},{label:"\u6700\u5C0F\u7535\u6D41\u65F6\u95F4",align:"center",prop:"cur_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u8BB0\u5F55\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,width:"230px",istrue:!0},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d())),e=="outlet"&&(i=="realtime"?(m.value=[["pow_active"],["pow_reactive"],["pow_apparent"],["power_factor"]],x.value=[{value:"pow_active",label:"\u6709\u529F\u529F\u7387"},{value:"pow_reactive",label:"\u65E0\u529F\u529F\u7387"},{value:"pow_apparent",label:"\u89C6\u5728\u529F\u7387"},{value:"power_factor",label:"\u529F\u7387\u56E0\u7D20"}],h.value=["pow_active","pow_reactive","pow_apparent","power_factor"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u8F93\u51FA\u4F4D",align:"center",prop:"outlet_id",istrue:!0,width:"140px"},{label:"\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active",istrue:!0,formatter:t,width:"140px"},{label:"\u65E0\u529F\u529F\u7387(kVar)",align:"center",prop:"pow_reactive",istrue:!0,formatter:t,width:"140px"},{label:"\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent",istrue:!0,formatter:t,width:"140px"},{label:"\u529F\u7387\u56E0\u7D20",align:"center",prop:"power_factor",istrue:!0,formatter:M,width:"140px"},{label:"\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,istrue:!0,width:"220px"},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d()):(m.value=[["pow_active","pow_active_avg_value"],["pow_active","pow_active_max"],["pow_active","pow_active_min"]],x.value=[{value:"pow_active",label:"\u6709\u529F\u529F\u7387",children:[{value:"pow_active_avg_value",label:"\u5E73\u5747\u6709\u529F\u529F\u7387"},{value:"pow_active_max",label:"\u6700\u5927\u6709\u529F\u529F\u7387"},{value:"pow_active_min",label:"\u6700\u5C0F\u6709\u529F\u529F\u7387"}]},{value:"pow_reactive",label:"\u65E0\u529F\u529F\u7387",children:[{value:"pow_reactive_avg_value",label:"\u5E73\u5747\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_max",label:"\u6700\u5927\u65E0\u529F\u529F\u7387"},{value:"pow_reactive_min",label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387"}]},{value:"pow_apparent",label:"\u89C6\u5728\u529F\u7387",children:[{value:"pow_apparent_avg_value",label:"\u5E73\u5747\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_max",label:"\u6700\u5927\u89C6\u5728\u529F\u7387"},{value:"pow_apparent_min",label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387"}]}],h.value=["pow_active_avg_value","pow_active_max","pow_active_min","pow_reactive_avg_value","pow_reactive_max","pow_reactive_min","pow_apparent_avg_value","pow_apparent_max","pow_apparent_min"],g.value=[{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",istrue:!0,width:"250px"},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u8F93\u51FA\u4F4D",align:"center",prop:"outlet_id",istrue:!0,width:"100px"},{label:"\u5E73\u5747\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_avg_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_max_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5927\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_max_time",formatter:r,width:"230px",istrue:!0},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active_min_value",istrue:!0,width:"180px",formatter:t},{label:"\u6700\u5C0F\u6709\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_active_min_time",formatter:r,width:"230px",istrue:!0},{label:"\u5E73\u5747\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_avg_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_max_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387(kW)",align:"center",prop:"pow_reactive_min_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5C0F\u65E0\u529F\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_reactive_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u5E73\u5747\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_avg_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_max_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5927\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_max_time",formatter:r,width:"230px",istrue:!1},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent_min_value",istrue:!1,width:"180px",formatter:t},{label:"\u6700\u5C0F\u89C6\u5728\u529F\u7387\u65F6\u95F4",align:"center",prop:"pow_apparent_min_time",formatter:r,width:"230px",istrue:!1},{label:"\u8BB0\u5F55\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,width:"230px",istrue:!0},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}],l.pageNo=1,d()))});const g=v([{label:"\u6240\u5728\u4F4D\u7F6E",align:"center",prop:"location",width:"250px",istrue:!0},{label:"\u8BBE\u5907\u5730\u5740",align:"center",prop:"dev_key",width:"250px",istrue:!0},{label:"\u8BBE\u5907\u540D\u79F0",align:"center",prop:"bus_name",istrue:!0,width:"300%"},{label:"\u603B\u6709\u529F\u529F\u7387(kW)",align:"center",prop:"pow_active",istrue:!0,width:"160px",formatter:t},{label:"\u603B\u65E0\u529F\u529F\u7387(kVar)",align:"center",prop:"pow_reactive",istrue:!0,width:"160px",formatter:t},{label:"\u603B\u89C6\u5728\u529F\u7387(kVA)",align:"center",prop:"pow_apparent",istrue:!0,width:"160px",formatter:t},{label:"\u529F\u7387\u56E0\u7D20",align:"center",prop:"power_factor",istrue:!0,width:"140px",formatter:M},{label:"\u65F6\u95F4",align:"center",prop:"create_time",formatter:r,width:"200px",istrue:!0},{label:"\u64CD\u4F5C",align:"center",slot:"actions",istrue:!0,width:"160px"}]),d=async()=>{B.value=!0;try{if(W.value!=null){const e=ne(_e(ue(W.value[0]))),i=864e5,u=ne(_e(aa(ue(W.value[1]),i)));l.timeRange=[e,u]}const a=await F.getBoxHistoryDataPage(l);J.value=a.list,K.value=a.total,a.total>1e4?I.value=1e4:I.value=a.total}finally{B.value=!1}};function f(a,e,i){return Number(i).toFixed(1)}function k(a,e,i){return Number(i).toFixed(2)}function t(a,e,i){return Number(i).toFixed(3)}function M(a,e,i){return Number(i).toFixed(2)}function Q(a,e,i){return"L"+i}function X(a,e,i){return"C"+i}function r(a,e,i){return i?ie(i).format("YYYY-MM-DD HH:mm"):""}const fe=a=>a>new Date,ke=async a=>{let e=[];a.forEach(i=>{i.type==7&&e.push(i.unique)}),e.length==0&&a.length!=0&&(e.push(0),Se({message:"\u6682\u65E0\u6570\u636E",type:"warning"})),l.devkeys=e,L()},L=()=>{l.pageNo=1,d()},ye=async()=>{try{await ce.exportConfirm(),l.pageNo=1,S.value=!0;const a={timeout:0},e=await F.exportBoxHistoryData(l,a);await Ze.excel(e,"\u6BCD\u7EBF\u63D2\u63A5\u7BB1\u5386\u53F2\u6570\u636E.xlsx")}catch{}finally{S.value=!1}},Z=async()=>{const a=await F.getBoxNavNewData(l.granularity);P.value=a.total,j.value=a.line,q.value=a.loop,G.value=a.outlet},ee=a=>ie(a).format("YYYY-MM-DD");return He(()=>{const a=new Date,e=new Date(a.getFullYear(),a.getMonth(),1);W.value=[ee(e),ee(a)],(async()=>{const i=await ea.getBoxMenu();E.value=i})(),Z(),(async()=>{const i=await F.getTypeMaxValue(l.devkeys),u=i.line_id_max_value,y=i.loop_id_max_value,A=i.outlet_id_max_value,D=[{value:"total",label:"\u603B"},{value:"line",label:"\u76F8",children:(()=>{const s=[];s.push({value:void 0,label:"\u5168\u90E8"});for(let c=1;c<=u;c++)s.push({value:`${c}`,label:`L${c}`});return s})()},{value:"loop",label:"\u56DE\u8DEF",children:(()=>{const s=[];s.push({value:void 0,label:"\u5168\u90E8"});for(let c=1;c<=y;c++)s.push({value:`${c}`,label:`C${c}`});return s})()},{value:"outlet",label:"\u8F93\u51FA\u4F4D",children:(()=>{const s=[];s.push({value:void 0,label:"\u5168\u90E8"});for(let c=1;c<=A;c++)s.push({value:`${c}`,label:`${c}`});return s})()}];O.value=D})(),d()}),(a,e)=>{const i=$e,u=Le,y=Re,A=Ue,D=Te,s=Ee,c=Pe,Ve=je,ae=qe,We=Ge,De=Xe,Ae=Qe,Ne=Je;return V(),U(Ae,{dataList:p(E),onCheck:ke,navTitle:"\u63D2\u63A5\u7BB1\u7535\u529B\u6570\u636E"},{NavInfo:w(()=>[ra,Y(),ia,o("div",pa,[o("div",oa,[o("div",na,[_a,o("span",ua,N(p(P))+"\u6761",1)]),o("div",va,[ca,o("span",wa,N(p(j))+"\u6761",1)]),o("div",sa,[ma,o("span",da,N(p(q))+"\u6761",1)]),o("div",ba,[ga,o("span",xa,N(p(G))+"\u6761",1)]),o("div",ha,[p(l).granularity=="realtime"?(V(),C("div",fa,ka)):H("",!0),p(l).granularity=="hour"?(V(),C("div",ya,Va)):H("",!0),p(l).granularity=="day"?(V(),C("div",Wa,Da)):H("",!0),Aa])])])]),ActionBar:w(()=>[_(Ve,{class:"-mb-15px",model:p(l),ref_key:"queryFormRef",ref:se,inline:!0,"label-width":"auto"},{default:w(()=>[_(u,{label:"\u53C2\u6570\u7C7B\u578B",prop:"type"},{default:w(()=>[_(i,{modelValue:p($),"onUpdate:modelValue":e[0]||(e[0]=n=>T($)?$.value=n:null),"collapse-tags":"",options:p(O),"collapse-tags-tooltip":"","show-all-levels":!0,onChange:de,class:"!w-130px"},null,8,["modelValue","options"])]),_:1}),_(u,{label:"\u9897\u7C92\u5EA6",prop:"granularity"},{default:w(()=>[_(A,{modelValue:p(l).granularity,"onUpdate:modelValue":e[1]||(e[1]=n=>p(l).granularity=n),placeholder:"\u8BF7\u9009\u62E9\u5206\u949F/\u5C0F\u65F6/\u5929",onChange:xe,class:"!w-100px"},{default:w(()=>[_(y,{label:"\u5206\u949F",value:"realtime"}),_(y,{label:"\u5C0F\u65F6",value:"hour"}),_(y,{label:"\u5929",value:"day"})]),_:1},8,["modelValue"])]),_:1}),_(u,{label:"\u7B5B\u9009\u5217",prop:"optionsCol"},{default:w(()=>[_(i,{modelValue:p(m),"onUpdate:modelValue":e[2]||(e[2]=n=>T(m)?m.value=n:null),options:p(x),props:be,"collapse-tags":"","collapse-tags-tooltip":"","show-all-levels":!1,onChange:ge,class:"!w-200px"},null,8,["modelValue","options"])]),_:1}),_(u,{label:"\u65F6\u95F4\u6BB5",prop:"timeRange"},{default:w(()=>[_(D,{"value-format":"YYYY-MM-DD",modelValue:p(W),"onUpdate:modelValue":e[3]||(e[3]=n=>T(W)?W.value=n:null),type:"datetimerange",shortcuts:me,"range-separator":"-","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4","disabled-date":fe,class:"!w-280px"},null,8,["modelValue"])]),_:1}),_(u,null,{default:w(()=>[_(c,{onClick:L},{default:w(()=>[_(s,{icon:"ep:search",class:"mr-5px"}),Y(" \u641C\u7D22")]),_:1}),_(c,{type:"success",plain:"",onClick:ye,loading:p(S)},{default:w(()=>[_(s,{icon:"ep:download",class:"mr-5px"}),Y(" \u5BFC\u51FA ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),Content:w(()=>[Fe((V(),U(We,{data:p(J),"show-overflow-tooltip":!0},pe({default:w(()=>[_(ae,{label:"\u5E8F\u53F7",align:"center",width:"100px"},{default:w(({$index:n})=>[Y(N(n+1+(p(l).pageNo-1)*p(l).pageSize),1)]),_:1}),(V(!0),C(oe,null,Be(p(g),n=>(V(),C(oe,null,[n.istrue?(V(),U(ae,{key:n.prop,label:n.label,align:n.align,prop:n.prop,formatter:n.formatter,width:n.width},pe({_:2},[n.slot==="actions"?{name:"default",fn:w(({row:R})=>[_(c,{link:"",type:"primary",onClick:Ya=>{return te=R.box_id,le=R.location,re=R.dev_key,void ve({path:"/bus/record/historyLine/box",state:{boxId:te,location:le,dev_key:re}});var te,le,re}},{default:w(()=>[Y("\u8BE6\u60C5")]),_:2},1032,["onClick"])]),key:"0"}:void 0]),1032,["label","align","prop","formatter","width"])):H("",!0)],64))),256))]),_:2},[p(he)?{name:"append",fn:w(()=>[Na]),key:"0"}:void 0]),1032,["data"])),[[Ne,p(B)]]),_(De,{total:p(I),"page-size-arr":p(we),layout:"sizes, prev, pager, next, jumper",page:p(l).pageNo,"onUpdate:page":e[4]||(e[4]=n=>p(l).pageNo=n),limit:p(l).pageSize,"onUpdate:limit":e[5]||(e[5]=n=>p(l).pageSize=n),onPagination:d},null,8,["total","page-size-arr","page","limit"]),o("div",Ia,"\u5171 "+N(p(K))+" \u6761",1)]),_:1},8,["dataList"])}}}),[["__scopeId","data-v-cf98b1ed"]]);export{Ma as default};
