import{_ as w}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BHQCcaX3.js";import{d as q,e as o,f as m,h as M,o as D,n as P,w as s,k as n,L as V,M as x}from"./index-mcOGIq4g.js";import{_ as z,D as F}from"./DcConfigForm.vue_vue_type_script_setup_true_lang-W2zN21rl.js";import{_ as N,S as R}from"./StatisConfigForm.vue_vue_type_script_setup_true_lang-DUkJ_dJB.js";import"./el-card-FPJq94NZ.js";import"./useMessage-CGTQbR_M.js";const j=q({name:"MqConfig",__name:"index",setup(L){const e=o([]),g=o(0),y=m({pageNo:1,pageSize:10,alarmPush:void 0}),t=o([]),_=o(0),C=m({pageNo:1,pageSize:10,id:void 0,billMode:void 0,dayCron:void 0,hourCron:void 0,eqDayCron:void 0,eqWeekCron:void 0,eqMonthCron:void 0}),i=async()=>{try{const a=await F.getDcConfigPage(y);e.value=a.list,g.value=a.total}finally{}},r=async()=>{try{const a=await R.getStatisConfigPage(C);t.value=a.list,_.value=a.total}finally{}},d=o(),u=(a,l)=>{d.value.open(a,l)},v=o(),c=(a,l)=>{v.value.open(a,l)};M(async()=>{await i(),await r(),e.value&&e.value.length>0&&e.value[0].id?u("update",e.value[0].id):u("create")});const f=o("second"),h=a=>{var l;a.props.label==="\u6570\u636E\u91C7\u96C6"&&(e.value&&e.value.length>0&&e.value[0].id?u("update",e.value[0].id):u("create")),a.props.label==="\u8BA1\u7B97\u670D\u52A1"&&(t.value&&((l=t.value)==null?void 0:l.length)>0&&t.value[0].id?c("update",t.value[0].id):c("create"))};return(a,l)=>{const p=V,b=x,S=w;return D(),P(S,null,{default:s(()=>[n(b,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=k=>f.value=k),class:"demo-tabs",onTabClick:h},{default:s(()=>[n(p,{label:"\u6570\u636E\u91C7\u96C6",name:"second"},{default:s(()=>[n(z,{ref_key:"dcFormRef",ref:d,onSuccess:i},null,512)]),_:1}),n(p,{label:"\u8BA1\u7B97\u670D\u52A1",name:"fourth"},{default:s(()=>[n(N,{ref_key:"staticFormRef",ref:v,onSuccess:r},null,512)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{j as default};
