import{e as te,a as ie,c as re}from"./Echart.vue_vue_type_script_setup_true_lang-NDPlWfCz.js";import{f as ne,aH as le,a3 as se,a6 as oe,ac as k,P as V,j as he,X,Z,N as de,bG as ue,a8 as J,K as pe,h as Q,L as ge}from"./installCanvasRenderer-WHaFMoQ9.js";te({type:"series.liquidFill",optionUpdated:function(){var a=this.option;a.gridSize=Math.max(Math.floor(a.gridSize),4)},getInitialData:function(a,t){var d=ne(a.data,{coordDimensions:["value"]}),v=new le(d,this);return v.initData(a.data),v},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});const ve=se({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(a,t){t.radiusY==null&&(t.radiusY=t.radius);for(var d=Math.max(2*Math.ceil(2*t.radius/t.waveLength*4),8);t.phase<2*-Math.PI;)t.phase+=2*Math.PI;for(;t.phase>0;)t.phase-=2*Math.PI;var v=t.phase/Math.PI/2*t.waveLength,u=t.cx-t.radius+v-2*t.radius;a.moveTo(u,t.waterLevel);for(var c=0,M=0;M<d;++M){var A=M%4,l=ce(M*t.waveLength/4,A,t.waveLength,t.amplitude);a.bezierCurveTo(l[0][0]+u,-l[0][1]+t.waterLevel,l[1][0]+u,-l[1][1]+t.waterLevel,l[2][0]+u,-l[2][1]+t.waterLevel),M===d-1&&(c=l[2][0])}t.inverse?(a.lineTo(c+u,t.cy-t.radiusY),a.lineTo(u,t.cy-t.radiusY),a.lineTo(u,t.waterLevel)):(a.lineTo(c+u,t.cy+t.radiusY),a.lineTo(u,t.cy+t.radiusY),a.lineTo(u,t.waterLevel)),a.closePath()}});function ce(a,t,d,v){return t===0?[[a+.5*d/Math.PI/2,v/2],[a+.5*d/Math.PI,v],[a+d/4,v]]:t===1?[[a+.5*d/Math.PI/2*(Math.PI-2),v],[a+.5*d/Math.PI/2*(Math.PI-1),v/2],[a+d/4,0]]:t===2?[[a+.5*d/Math.PI/2,-v/2],[a+.5*d/Math.PI,-v],[a+d/4,-v]]:[[a+.5*d/Math.PI/2*(Math.PI-2),-v],[a+.5*d/Math.PI/2*(Math.PI-1),-v/2],[a+d/4,0]]}var P=ue;function $(a){return a&&a.indexOf("path://")===0}ie({type:"liquidFill",render:function(a,t,d){var v=this,u=this.group;u.removeAll();var c=a.getData(),M=c.getItemModel(0),A=M.get("center"),l=M.get("radius"),z=d.getWidth(),L=d.getHeight(),O=Math.min(z,L),W=0,C=0,N=a.get("outline.show");N&&(W=a.get("outline.borderDistance"),C=P(a.get("outline.itemStyle.borderWidth"),O));var B,D,T,x=P(A[0],z),S=P(A[1],L),I=!1,f=a.get("shape");f==="container"?(I=!0,D=[(B=[z/2,L/2])[0]-C/2,B[1]-C/2],T=[P(W,z),P(W,L)],l=[Math.max(D[0]-T[0],0),Math.max(D[1]-T[1],0)]):(D=(B=P(l,O)/2)-C/2,T=P(W,O),l=Math.max(D-T,0)),N&&(q().style.lineWidth=C,u.add(q()));var ee=I?0:x-l,ae=I?0:S-l,F=null;u.add(function(){var e=E(l);e.setStyle(a.getModel("backgroundStyle").getItemStyle()),e.style.fill=null,e.z2=5;var i=E(l);i.setStyle(a.getModel("backgroundStyle").getItemStyle()),i.style.stroke=null;var r=new V;return r.add(e),r.add(i),r}());var U=this._data,_=[];function E(e,i){if(f){if($(f)){var r=J(f.slice(7),{}),o=r.getBoundingRect(),s=o.width,n=o.height;s>n?(n*=2*e/s,s=2*e):(s*=2*e/n,n=2*e);var p=i?0:x-s/2,h=i?0:S-n/2;return r=J(f.slice(7),{},new pe(p,h,s,n)),i&&(r.x=-s/2,r.y=-n/2),r}if(I){var m=i?-e[0]:x-e[0],g=i?-e[1]:S-e[1];return Q("rect",m,g,2*e[0],2*e[1])}return g=i?-e:S-e,f==="pin"?g+=e:f==="arrow"&&(g-=e),Q(f,m=i?-e:x-e,g,2*e,2*e)}return new ge({shape:{cx:i?0:x,cy:i?0:S,r:e}})}function q(){var e=E(B);return e.style.fill=null,e.setStyle(a.getModel("outline.itemStyle").getItemStyle()),e}function j(e,i,r){var o=I?l[0]:l,s=I?L/2:l,n=c.getItemModel(e),p=n.getModel("itemStyle"),h=n.get("phase"),m=P(n.get("amplitude"),2*s),g=P(n.get("waveLength"),2*o),y=s-c.get("value",e)*s*2;h=r?r.shape.phase:h==="auto"?e*Math.PI/4:h;var w=p.getItemStyle();if(!w.fill){var Y=a.get("color"),G=e%Y.length;w.fill=Y[G]}var b=new ve({shape:{waveLength:g,radius:o,radiusY:s,cx:2*o,cy:0,waterLevel:y,amplitude:m,phase:h,inverse:i},style:w,x,y:S});b.shape._waterLevel=y;var K=n.getModel("emphasis.itemStyle").getItemStyle();K.lineWidth=0,b.ensureState("emphasis").style=K,he(b);var R=E(l,!0);return R.setStyle({fill:"white"}),b.setClipPath(R),b}function H(e,i,r){var o=c.getItemModel(e),s=o.get("period"),n=o.get("direction"),p=c.get("value",e),h=o.get("phase");h=r?r.shape.phase:h==="auto"?e*Math.PI/4:h;var m=0;m=s==="auto"?function(y){var w=c.count();return w===0?y:y*(.2+(w-e)/w*.8)}(5e3):typeof s=="function"?s(p,e):s;var g=0;n==="right"||n==null?g=Math.PI:n==="left"?g=-Math.PI:n==="none"&&(g=0),n!=="none"&&o.get("waveAnimation")&&i.animate("shape",!0).when(0,{phase:h}).when(m/2,{phase:g+h}).when(m,{phase:2*g+h}).during(function(){F&&F.dirty(!0)}).start()}c.diff(U).add(function(e){var i=j(e,!1),r=i.shape.waterLevel;i.shape.waterLevel=I?L/2:l,oe(i,{shape:{waterLevel:r}},a),i.z2=2,H(e,i,null),u.add(i),c.setItemGraphicEl(e,i),_.push(i)}).update(function(e,i){for(var r=U.getItemGraphicEl(i),o=j(e,!1,r),s={},n=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],p=0;p<n.length;++p){var h=n[p];o.shape.hasOwnProperty(h)&&(s[h]=o.shape[h])}var m={},g=["fill","opacity","shadowBlur","shadowColor"];for(p=0;p<g.length;++p)h=g[p],o.style.hasOwnProperty(h)&&(m[h]=o.style[h]);I&&(s.radiusY=L/2),k(r,{shape:s,x:o.x,y:o.y},a),a.isUniversalTransitionEnabled&&a.isUniversalTransitionEnabled()?k(r,{style:m},a):r.useStyle(m);var y=r.getClipPath(),w=o.getClipPath();r.setClipPath(o.getClipPath()),r.shape.inverse=o.inverse,y&&w&&v._shape===f&&!$(f)&&k(w,{shape:y.shape},a,{isFrom:!0}),H(e,r,r),u.add(r),c.setItemGraphicEl(e,r),_.push(r)}).remove(function(e){var i=U.getItemGraphicEl(e);u.remove(i)}).execute(),M.get("label.show")&&u.add(function(e){var i=M.getModel("label");function r(){var Y=a.getFormattedLabel(0,"normal"),G=100*c.get("value",0),b=c.getName(0)||a.name;return isNaN(G)||(b=G.toFixed(0)+"%"),Y??b}var o={z2:10,shape:{x:ee,y:ae,width:2*(I?l[0]:l),height:2*(I?l[1]:l)},style:{fill:"transparent"},textConfig:{position:i.get("position")||"inside"},silent:!0},s={style:{text:r(),textAlign:i.get("align"),textVerticalAlign:i.get("baseline")}};Object.assign(s.style,re(i));var n=new X(o),p=new X(o);p.disableLabelAnimation=!0,n.disableLabelAnimation=!0;var h=new Z(s),m=new Z(s);n.setTextContent(h),p.setTextContent(m);var g=i.get("insideColor");m.style.fill=g;var y=new V;y.add(n),y.add(p);var w=E(l,!0);return F=new de({shape:{paths:e},x,y:S}),F.setClipPath(w),p.setClipPath(F),y}(_)),this._shape=f,this._data=c},dispose:function(){}});
