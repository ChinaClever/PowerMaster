import{d as H,T as W,$ as X,e as h,u as Y,a5 as $,g as ee,a as e,f as ae,h as te,o as le,c as se,j as o,a0 as T,t as u,a1 as I,k as a,w as t,a2 as oe,s as ie,I as re,V as ne,l as M,a3 as pe,x as de,a4 as me,a6 as ce,a7 as ue,a8 as z,a9 as fe,aa as xe,ab as ge,ac as he,ad as we,O as ye,E as _e,Z as ve,ae as be,z as Fe,Q as ke,J as Ve,K as Le}from"./index-mcOGIq4g.js";import{_ as je}from"./Verify-xY3AT-eq.js";import{_ as Pe}from"./XButton-zTH-RG3W.js";import{E as Se}from"./el-link-Bpo5D1Qv.js";import{_ as U}from"./logo-Djqhd_P6.js";import{_ as Te}from"./login-box-bg-CgotIC_L.js";import{u as v}from"./useIcon-p6YtqOQ1.js";import{T as Ie,_ as Me}from"./LocaleDropdown.vue_vue_type_script_setup_true_lang-CcthSEIu.js";import{u as ze,L as Ue,a as qe}from"./useLogin-BGuj3iei.js";import{_ as Ce}from"./LoginFormTitle.vue_vue_type_script_setup_true_lang-CCF9NEtS.js";import{r as q}from"./formRules-CpfMmool.js";import{_ as Ee}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-Di4T52Sc.js";import"./el-dropdown-item-YOt6BOHH.js";const b=w=>(Ve("data-v-824597cd"),w=w(),Le(),w),Re={class:"relative mx-auto h-full flex"},Ke={class:"relative flex items-center text-white"},Oe=b(()=>o("img",{alt:"",class:"mr-10px h-48px w-48px",src:U},null,-1)),Je={class:"text-20px font-bold"},Ne={class:"h-[calc(100%-60px)] flex items-center justify-center"},Ge=b(()=>o("img",{key:"1",alt:"",class:"w-350px",src:Te},null,-1)),Qe={key:"2",class:"text-3xl text-white"},Ze={key:"3",class:"mt-5 text-14px font-normal text-white"},Ae={class:"relative flex-1 p-30px dark:bg-[var(--login-bg-color)] lt-sm:p-10px"},Be={class:"flex items-center justify-between text-white at-2xl:justify-end at-xl:justify-end"},De={class:"flex items-center at-2xl:hidden at-xl:hidden"},He=b(()=>o("img",{alt:"",class:"mr-10px h-48px w-48px",src:U},null,-1)),We={class:"text-20px font-bold"},Xe={class:"flex items-center justify-end space-x-10px"},Ye={class:"m-auto h-full w-[100%] flex items-center at-2xl:max-w-500px at-lg:max-w-500px at-md:max-w-500px at-xl:max-w-500px"},$e=Ee(H({name:"SocialLogin",__name:"SocialLogin",setup(w){const{t:d}=de(),n=W(),F=X(),{getPrefixCls:C}=me(),k=C("login");v({icon:"ep:house"});const E=v({icon:"ep:avatar"}),R=v({icon:"ep:lock"}),V=h(),{validForm:K}=qe(V),{getLoginState:O}=ze(),{push:J}=Y(),N=$(),_=h(!1),L=h(),G=h("blockPuzzle"),Q=ee(()=>e(O)===Ue.LOGIN),Z={username:[q],password:[q]},l=ae({isShowPassword:!1,captchaEnable:!1,loginForm:{username:"admin",password:"admin123",captchaVerification:"",rememberMe:!1}}),j=async()=>{l.captchaEnable?await S({}):L.value.show()},P=h();function y(r){return new URL(decodeURIComponent(location.href)).searchParams.get(r)??""}const S=async r=>{var s,p;_.value=!0;try{if(!await K())return;let i=y("redirect");const c=y("type"),f=(s=n==null?void 0:n.query)==null?void 0:s.code,x=(p=n==null?void 0:n.query)==null?void 0:p.state,g=await xe({username:l.loginForm.username,password:l.loginForm.password,captchaVerification:r.captchaVerification,socialCode:f,socialState:x,socialType:c});if(!g)return;P.value=ge.service({lock:!0,text:"\u6B63\u5728\u52A0\u8F7D\u7CFB\u7EDF\u4E2D...",background:"rgba(0, 0, 0, 0.7)"}),l.loginForm.rememberMe?he(l.loginForm):we(),z(g),i||(i="/"),i.indexOf("sso")!==-1?window.location.href=window.location.href.replace("/login?redirect=",""):J({path:i||N.addRouters[0].path})}finally{_.value=!1,P.value.close()}};return te(()=>{(()=>{const r=ce();r&&(l.loginForm={...l.loginForm,username:r.username?r.username:l.loginForm.username,password:r.password?r.password:l.loginForm.password,rememberMe:!!r.rememberMe})})(),(async()=>{var r,s;try{const p=y("type"),i=y("redirect"),c=(r=n==null?void 0:n.query)==null?void 0:r.code,f=(s=n==null?void 0:n.query)==null?void 0:s.state,x=await ue(p,c,f);z(x),fe.push({path:i||"/"})}catch{}})()}),(r,s)=>{const p=ye,i=_e,c=ve,f=be,x=Se,g=Fe,A=Pe,B=je,D=ke;return le(),se("div",{class:T([e(k),"relative h-[100%] lt-xl:bg-[var(--login-bg-color)] lt-md:px-10px lt-sm:px-10px lt-xl:px-10px"])},[o("div",Re,[o("div",{class:T(`${e(k)}__left flex-1 bg-gray-500 bg-opacity-20 relative p-30px lt-xl:hidden`)},[o("div",Ke,[Oe,o("span",Je,u(e(I)(e(F).getTitle)),1)]),o("div",Ne,[a(oe,{appear:"","enter-active-class":"animate__animated animate__bounceInLeft",tag:"div"},{default:t(()=>[Ge,o("div",Qe,u(e(d)("login.welcome")),1),o("div",Ze,u(e(d)("login.message")),1)]),_:1})])],2),o("div",Ae,[o("div",Be,[o("div",De,[He,o("span",We,u(e(I)(e(F).getTitle)),1)]),o("div",Xe,[a(e(Ie)),a(e(Me),{class:"dark:text-white lt-xl:text-white"})])]),a(pe,{appear:"","enter-active-class":"animate__animated animate__bounceInRight"},{default:t(()=>[o("div",Ye,[ie(a(D,{ref_key:"formLogin",ref:V,model:e(l).loginForm,rules:Z,class:"login-form","label-position":"top","label-width":"120px",size:"large"},{default:t(()=>[a(g,{style:{"margin-right":"-10px","margin-left":"-10px"}},{default:t(()=>[a(i,{span:24,style:{"padding-right":"10px","padding-left":"10px"}},{default:t(()=>[a(p,null,{default:t(()=>[a(Ce,{style:{width:"100%"}})]),_:1})]),_:1}),a(i,{span:24,style:{"padding-right":"10px","padding-left":"10px"}}),a(i,{span:24,style:{"padding-right":"10px","padding-left":"10px"}},{default:t(()=>[a(p,{prop:"username"},{default:t(()=>[a(c,{modelValue:e(l).loginForm.username,"onUpdate:modelValue":s[0]||(s[0]=m=>e(l).loginForm.username=m),placeholder:e(d)("login.usernamePlaceholder"),"prefix-icon":e(E)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),a(i,{span:24,style:{"padding-right":"10px","padding-left":"10px"}},{default:t(()=>[a(p,{prop:"password"},{default:t(()=>[a(c,{modelValue:e(l).loginForm.password,"onUpdate:modelValue":s[1]||(s[1]=m=>e(l).loginForm.password=m),placeholder:e(d)("login.passwordPlaceholder"),"prefix-icon":e(R),"show-password":"",type:"password",onKeyup:s[2]||(s[2]=ne(m=>j(),["enter"]))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),a(i,{span:24,style:{"padding-right":"10px","padding-left":"10px","margin-top":"-20px","margin-bottom":"-20px"}},{default:t(()=>[a(p,null,{default:t(()=>[a(g,{justify:"space-between",style:{width:"100%"}},{default:t(()=>[a(i,{span:6},{default:t(()=>[a(f,{modelValue:e(l).loginForm.rememberMe,"onUpdate:modelValue":s[3]||(s[3]=m=>e(l).loginForm.rememberMe=m)},{default:t(()=>[M(u(e(d)("login.remember")),1)]),_:1},8,["modelValue"])]),_:1}),a(i,{offset:6,span:12},{default:t(()=>[a(x,{style:{float:"right"},type:"primary"},{default:t(()=>[M(u(e(d)("login.forgetPassword")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(i,{span:24,style:{"padding-right":"10px","padding-left":"10px"}},{default:t(()=>[a(p,null,{default:t(()=>[a(A,{loading:e(_),title:e(d)("login.login"),class:"w-[100%]",type:"primary",onClick:s[4]||(s[4]=m=>j())},null,8,["loading","title"])]),_:1})]),_:1}),a(B,{ref_key:"verify",ref:L,captchaType:e(G),imgSize:{width:"400px",height:"200px"},mode:"pop",onSuccess:S},null,8,["captchaType"])]),_:1})]),_:1},8,["model"]),[[re,e(Q)]])])]),_:1})])])],2)}}}),[["__scopeId","data-v-824597cd"]]);export{$e as default};
