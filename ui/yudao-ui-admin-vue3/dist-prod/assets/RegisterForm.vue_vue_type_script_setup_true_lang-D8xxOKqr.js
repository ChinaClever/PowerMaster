import{_ as k}from"./Form-5oiF4EUX.js";import{_ as y}from"./XButton-zTH-RG3W.js";import{d as _,g as R,a as o,f as I,e as x,s as V,I as F,o as L,n as U,w as i,k as t,j as d,x as j,Z as q}from"./index-mcOGIq4g.js";import{u as B}from"./useForm-Denu4GSm.js";import{u as C}from"./useValidator-CxGF9piR.js";import{_ as E}from"./LoginFormTitle.vue_vue_type_script_setup_true_lang-CCF9NEtS.js";import{u as S,L as z}from"./useLogin-BGuj3iei.js";const G={class:"w-[100%] flex"},T={class:"w-[100%]"},Z={class:"mt-15px w-[100%]"},A=_({name:"RegisterForm",__name:"RegisterForm",setup(D){const{t:e}=j(),{required:l}=C(),{register:p,elFormRef:m}=B(),{handleBackLogin:g,getLoginState:u}=S(),h=R(()=>o(u)===z.REGISTER),w=I([{field:"title",colProps:{span:24}},{field:"username",label:e("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:e("login.usernamePlaceholder")}},{field:"password",label:e("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"check_password",label:e("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"code",label:e("login.code"),colProps:{span:24}},{field:"register",colProps:{span:24}}]),f={username:[l()],password:[l()],check_password:[l()],code:[l()]},n=x(!1);return(H,a)=>{const P=q,c=y,v=k;return V((L(),U(v,{rules:f,schema:o(w),class:"dark:(border-1 border-[var(--el-border-color)] border-solid)","hide-required-asterisk":"","label-position":"top",size:"large",onRegister:o(p)},{title:i(()=>[t(E,{style:{width:"100%"}})]),code:i(r=>[d("div",G,[t(P,{modelValue:r.code,"onUpdate:modelValue":s=>r.code=s,placeholder:o(e)("login.codePlaceholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])])]),register:i(()=>[d("div",T,[t(c,{loading:o(n),title:o(e)("login.register"),class:"w-[100%]",type:"primary",onClick:a[0]||(a[0]=r=>(async()=>{const s=o(m);s==null||s.validate(async b=>{if(b)try{n.value=!0}finally{n.value=!1}})})())},null,8,["loading","title"])]),d("div",Z,[t(c,{title:o(e)("login.hasUser"),class:"w-[100%]",onClick:a[1]||(a[1]=r=>o(g)())},null,8,["title"])])]),_:1},8,["schema","onRegister"])),[[F,o(h)]])}}});export{A as _};
