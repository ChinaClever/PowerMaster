import{d as A,x as j,e as r,f as D,o as V,n as b,w as l,k as u,l as n,a,s as O,m as Q,Z as R,O as Z,az as B,aA as E,Q as G,A as H,R as I}from"./index-mcOGIq4g.js";import{_ as J}from"./Dialog.vue_vue_type_style_index_0_lang-BHwm1lq5.js";import{u as K}from"./useMessage-CGTQbR_M.js";const L=A({__name:"layoutForm",emits:["success"],setup(M,{expose:y,emit:g}){j(),K();const o=r(!1),f=r(""),m=r(!1),x=r(""),s=r({name:"",status:1,id:""}),h=D({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],id:[{required:!0,message:"id\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),i=r();y({open:async(d,e)=>{o.value=!0,f.value=d=="edit"?"\u7F16\u8F91":"\u6DFB\u52A0",x.value=d,U(),s.value=e||{name:"",status:1,id:""}}});const k=g,w=async()=>{if(i&&await i.value.validate()){m.value=!0;try{o.value=!1,k("success",s.value)}catch{}finally{m.value=!1}}},U=()=>{var d;s.value={name:"",status:1,id:""},(d=i.value)==null||d.resetFields()};return(d,e)=>{const c=R,p=Z,_=B,C=E,F=G,v=H,q=J,z=I;return V(),b(q,{modelValue:a(o),"onUpdate:modelValue":e[4]||(e[4]=t=>Q(o)?o.value=t:null),title:a(f)},{footer:l(()=>[u(v,{onClick:e[3]||(e[3]=t=>o.value=!1)},{default:l(()=>[n("\u53D6 \u6D88")]),_:1}),u(v,{disabled:a(m),type:"primary",onClick:w},{default:l(()=>[n("\u786E \u5B9A")]),_:1},8,["disabled"])]),default:l(()=>[O((V(),b(F,{ref_key:"layoutForm",ref:i,model:a(s),rules:a(h),"label-width":"100px",center:""},{default:l(()=>[u(p,{label:"\u540D\u79F0",prop:"name"},{default:l(()=>[u(c,{modelValue:a(s).name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(s).name=t),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),u(p,{label:"id",prop:"id"},{default:l(()=>[u(c,{modelValue:a(s).id,"onUpdate:modelValue":e[1]||(e[1]=t=>a(s).id=t),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),u(p,{label:"\u72B6\u6001"},{default:l(()=>[u(C,{modelValue:a(s).status,"onUpdate:modelValue":e[2]||(e[2]=t=>a(s).status=t),prop:"status"},{default:l(()=>[u(_,{label:1},{default:l(()=>[n("\u6B63\u5E38")]),_:1}),u(_,{label:0},{default:l(()=>[n("\u5F02\u5E38")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[z,a(m)]])]),_:1},8,["modelValue","title"])}}});export{L as _};
