import{d as W,e as d,f as j,o as m,n as p,w as t,k as o,a as l,l as _,s as q,c as C,F as R,p as T,m as A,Z as D,O as N,S as O,N as Q,Q as Z,A as z,R as B}from"./index-mcOGIq4g.js";import{_ as E}from"./Dialog.vue_vue_type_style_index_0_lang-BHwm1lq5.js";import{a as G,v as H}from"./index-CqQ65LHe.js";import{u as I}from"./useMessage-CGTQbR_M.js";const J=W({name:"SystemSensitiveWordTestForm",__name:"SensitiveWordTestForm",setup(K,{expose:x}){const f=I(),r=d(!1),i=d(!1),s=d({text:"",tags:[]}),y=j({text:[{required:!0,message:"\u6D4B\u8BD5\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],tags:[{required:!0,message:"\u6807\u7B7E\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=d(),v=d([]);x({open:async()=>{r.value=!0,w(),v.value=await G()}});const b=async()=>{if(n&&await n.value.validate()){i.value=!0;try{const u=s.value,e=await H(u);if(e.length===0)return void f.success("\u4E0D\u5305\u542B\u654F\u611F\u8BCD\uFF01");f.warning("\u5305\u542B\u654F\u611F\u8BCD\uFF1A"+e.join(", ")),r.value=!1}finally{i.value=!1}}},w=()=>{var u;s.value={text:"",tags:[]},(u=n.value)==null||u.resetFields()};return(u,e)=>{const V=D,c=N,h=O,k=Q,F=Z,g=z,S=E,U=B;return m(),p(S,{modelValue:l(r),"onUpdate:modelValue":e[3]||(e[3]=a=>A(r)?r.value=a:null),title:"\u68C0\u6D4B\u654F\u611F\u8BCD"},{footer:t(()=>[o(g,{disabled:l(i),type:"primary",onClick:b},{default:t(()=>[_("\u68C0 \u6D4B")]),_:1},8,["disabled"]),o(g,{onClick:e[2]||(e[2]=a=>r.value=!1)},{default:t(()=>[_("\u53D6 \u6D88")]),_:1})]),default:t(()=>[q((m(),p(F,{ref_key:"formRef",ref:n,model:l(s),rules:l(y),"label-width":"80px"},{default:t(()=>[o(c,{label:"\u6587\u672C",prop:"text"},{default:t(()=>[o(V,{modelValue:l(s).text,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).text=a),placeholder:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u6587\u672C",type:"textarea"},null,8,["modelValue"])]),_:1}),o(c,{label:"\u6807\u7B7E",prop:"tags"},{default:t(()=>[o(k,{modelValue:l(s).tags,"onUpdate:modelValue":e[1]||(e[1]=a=>l(s).tags=a),"allow-create":"",filterable:"",multiple:"",placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E",style:{width:"380px"}},{default:t(()=>[(m(!0),C(R,null,T(l(v),a=>(m(),p(h,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[U,l(i)]])]),_:1},8,["modelValue"])}}});export{J as _};
