import{d as ge,x as Be,e as m,f as D,aj as ne,o as s,n as b,w as u,k as d,l as V,a,j as p,s as se,m as S,c as I,F as f,p as g,q as L,t as P,a0 as pe,ax as j,Z as Pe,O as Ue,S as ke,N as Ce,ba as De,b9 as Oe,E as Le,L as Ne,M as we,_ as Me,aR as je,Q as qe,A as ze,R as He,J as $e,K as Fe}from"./index-mcOGIq4g.js";import{_ as Te}from"./Dialog.vue_vue_type_style_index_0_lang-BHwm1lq5.js";import{E as Ee,a as Se}from"./el-collapse-item-B2FzqckI.js";import{C as ie}from"./index-JEsRnusb.js";import{u as Re}from"./useMessage-CGTQbR_M.js";import{_ as Je}from"./_plugin-vue_export-helper-BCo6x5W8.js";const x=N=>($e("data-v-3966dd46"),N=N(),Fe(),N),Ke={class:"formContainer"},Qe={class:"collapseItem"},Ze={class:"double-formitem"},Ge={class:"double-formitem"},We={class:"pduBus"},Xe=x(()=>p("span",{class:"text-gray-500"},"IP\u5730\u5740",-1)),Ye=x(()=>p("span",{class:"text-gray-500"},"\u7EA7\u8054\u5730\u5740",-1)),el=x(()=>p("span",{class:"text-gray-500"},"IP\u5730\u5740",-1)),ll=x(()=>p("span",{class:"text-gray-500"},"\u7EA7\u8054\u5730\u5740",-1)),al={class:"Bus"},dl=x(()=>p("div",{class:"title"},"A\u8DEF",-1)),ol=x(()=>p("div",{class:"title"},"B\u8DEF",-1)),ul={class:"sensorContainer"},tl={class:"list"},nl={key:0,class:"minInterval"},sl=x(()=>p("br",null,null,-1)),pl=["onClick"],il=["onClick"],rl=x(()=>p("div",{class:"tip"},[p("div",null,"\u673A\u67DC\u524D\u7AEF"),p("div",null,"(\u51B7\u901A\u9053)")],-1)),ml={class:"list"},cl={key:0,class:"minInterval"},bl=x(()=>p("br",null,null,-1)),Il=["onClick"],vl=["onClick"],hl=x(()=>p("div",{class:"tip"},[p("div",null,"\u673A\u67DC\u540E\u7AEF"),p("div",null,"(\u70ED\u901A\u9053)")],-1)),yl={class:"sensorDialog",style:{"padding-left":"20px"}},fl=Je(ge({__name:"CabForm",emits:["success"],setup(N,{expose:re,emit:me}){Be();const q=Re(),ce=m([]),A=m(!1);m(0);const R=m([]),J=m([]),U=m(!1),K=m("");m(!1);const w=m(!1),k=m(!1),Q=m(!1),y=D({type:null,sensorId:null,pathPdu:"",channel:null}),be=m(""),z=["","\u6E29\u6E7F\u5EA6\u4F20\u611F\u5668","\u95E8\u7981\u4F20\u611F\u5668","\u6C34\u6D78\u4F20\u611F\u5668","\u70DF\u96FE\u4F20\u611F\u5668"],Z={1:"(\u4E0A)",2:"(\u4E2D)",3:"(\u4E0B)"},H=m([1,2,3,4]),$=m([1,2,3,4]),O=m([0,0]),h=D([{type:1,sensorId:null,position:1,pathPdu:"",channel:1},{type:3,sensorId:null,pathPdu:"",channel:1},{type:4,sensorId:null,pathPdu:"",channel:1},{type:1,sensorId:null,position:2,pathPdu:"",channel:1},{type:2,sensorId:null,pathPdu:"",channel:1},{type:1,sensorId:null,position:3,pathPdu:"",channel:1}]),_=D([{type:1,sensorId:null,position:1,pathPdu:"",channel:2},{type:3,sensorId:null,pathPdu:"",channel:2},{type:4,sensorId:null,pathPdu:"",channel:2},{type:1,sensorId:null,position:2,pathPdu:"",channel:2},{type:2,sensorId:null,pathPdu:"",channel:2},{type:1,sensorId:null,position:3,pathPdu:"",channel:2}]),o=m({roomId:"",roomName:"",aisleId:"",index:"",cabinetName:"",type:"",cabinetHeight:42,powCapacity:8,company:"",pduIpA:"",casIdA:"",pduIpB:"",casIdB:"",sensorList:[],busIpA:"",barIdA:"",boxIndexA:"",boxOutletIdA:"",busIpB:"",barIdB:"",boxIndexB:"",boxOutletIdB:"",pduBox:0,eleAlarmDay:0,eleLimitDay:1e3,eleAlarmMonth:0,eleLimitMonth:1e3});m({ipdzA:"",jldzA:"",ipdzB:"",jldzB:""});const Ie=D({roomId:[{required:!0,message:"\u6240\u5C5E\u673A\u623F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],cabinetName:[{required:!0,message:"\u673A\u67DC\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],type:[{required:!0,message:"\u673A\u67DC\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],cabinetHeight:[{required:!0,message:"\u673A\u67DC\u9AD8\u5EA6\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],powCapacity:[{required:!0,message:"\u7535\u529B\u5BB9\u91CF\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]});D({ipdzA:[{required:!0,message:"A\u8DEFPDU\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],jldzA:[{required:!0,message:"B\u8DEFPDU\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]});const ve=D({pathPdu:[{required:!0,message:"PDU\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sensorId:[{required:!0,message:"\u4F20\u611F\u5668id\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),F=m(["1"]);ne(h,i=>{const l=i.filter(t=>t.type==1&&t.sensorId).map(t=>t.sensorId);l.length!=0&&(H.value=H.value.filter(t=>!l.includes(t)))}),ne(_,i=>{const l=i.filter(t=>t.type==1&&t.sensorId).map(t=>t.sensorId);l.length!=0&&($.value=$.value.filter(t=>!l.includes(t)))});const G=(i,l,t)=>{O.value=[l,t],Object.assign(y,i),k.value=!0},W=(i,l)=>{i==0?Object.assign(h[l],{...h[l],sensorId:null,pathPdu:null}):Object.assign(_[l],{...h[l],sensorId:null,pathPdu:null})},he=async i=>{try{if(!C||!await C.value.validate())return;const l=O.value[1];O.value[0]==0?Object.assign(h[l],y):Object.assign(_[l],y),k.value=!1}catch(l){q.error(String(l))}},ye=i=>{},C=m(),fe=m();re({open:async(i,l,t)=>{U.value=!0,K.value=i=="edit"?"\u7F16\u8F91":"\u6DFB\u52A0",be.value=i,X(),h.forEach(n=>{n.sensorId=null,n.pathPdu=""}),l&&l.sensorList&&l.sensorList.length>0&&l.sensorList.forEach(n=>{if(n.channel==1){const r=h.findIndex(v=>n.position?n.position==v.position:v.type==n.sensorType);h[r]={...h[r],sensorId:n.sensorId,pathPdu:n.pathPdu}}else if(n.channel==2){const r=_.findIndex(v=>n.position?n.position==v.position:v.type==n.sensorType);_[r]={..._[r],sensorId:n.sensorId,pathPdu:n.pathPdu}}}),o.value=l||{cabinetName:"",roomId:"",roomName:"",aisleId:"",index:"",type:"",cabinetHeight:42,powCapacity:8,company:"",pduIpA:"",casIdA:"",pduIpB:"",casIdB:"",sensorList:[],busIpA:"",barIdA:"",boxIndexA:"",boxOutletIdA:"",busIpB:"",barIdB:"",boxIndexB:"",boxOutletIdB:"",pduBox:0,eleAlarmDay:0,eleLimitDay:1e3,eleAlarmMonth:0,eleLimitMonth:1e3},o.value.roomName=t.roomName,o.value.roomId=t.roomId,o.value.aisleId=t.aisleId,o.value.index=t.index,t.barA&&(A.value=!0,R.value=t.barA,J.value=t.barB,o.value={...o.value,barIdA:t.barIdA,busIpA:t.busIpA,barIdB:t.barIdB,busIpB:t.busIpB}),o.value.pduBox=o.value.pduBox?1:0}});const Ve=me,xe=async()=>{try{if(!C||!await C.value.validate())return;if(o.value.pduIpA!=""&&o.value.pduIpB!=""&&o.value.pduIpA!=null&&o.value.pduIpB!=null&&o.value.pduIpA==o.value.pduIpB&&o.value.casIdA==o.value.casIdB)return void q.error("PDU-IP\u5730\u5740\u76F8\u540C\u60C5\u51B5\u4E0B, \u7EA7\u8054\u5730\u5740\u4E0D\u80FD\u76F8\u540C\u3002");w.value=!0;const i=[...h,..._].filter(l=>l.sensorId);o.value.sensorList=i,await ie.saveCabinetInfo({...o.value}),U.value=!1,Ve("success",{...o.value,addrA:null,addrB:null}),X()}catch(i){q.error(String(i.cabinetName?i.cabinetName[0].message:i.type[0].message))}finally{w.value=!1}},X=()=>{var i;o.value={cabinetName:"",roomId:"",roomName:"",type:"",cabinetHeight:42,powCapacity:8,company:"",pduIpA:"",casIdA:"",pduIpB:"",casIdB:"",sensorList:[],busIpA:"",barIdA:"",boxIndexA:"",boxOutletIdA:"",busIpB:"",barIdB:"",boxIndexB:"",boxOutletIdB:"",pduBox:0,eleAlarmDay:0,eleLimitDay:1e3,eleAlarmMonth:0,eleLimitMonth:1e3},(i=C.value)==null||i.resetFields(),_.forEach(l=>{l.sensorId=null,l.pathPdu=""}),h.forEach(l=>{l.sensorId=null,l.pathPdu=""})};return(async()=>{const i=await ie.getRoomMenuAll({});ce.value=i})(),(i,l)=>{const t=Pe,n=Ue,r=ke,v=Ce,Y=De,ee=Oe,T=Ee,B=Le,le=Ne,Ae=we,ae=Me,de=je,_e=Se,oe=qe,M=ze,ue=Te,te=He;return s(),b(ue,{id:"machine-dialog",modelValue:a(U),"onUpdate:modelValue":l[33]||(l[33]=e=>S(U)?U.value=e:null),title:a(K),width:"60%"},{footer:u(()=>[d(M,{onClick:l[28]||(l[28]=e=>U.value=!1)},{default:u(()=>[V("\u53D6 \u6D88")]),_:1}),d(M,{disabled:a(w),type:"primary",onClick:xe},{default:u(()=>[V("\u786E \u5B9A")]),_:1},8,["disabled"])]),default:u(()=>[p("div",Ke,[se((s(),b(oe,{ref_key:"machineForm",ref:C,model:a(o),rules:a(Ie),"label-width":"120px",center:""},{default:u(()=>[d(_e,{modelValue:a(F),"onUpdate:modelValue":l[27]||(l[27]=e=>S(F)?F.value=e:null),onChange:ye,accordion:""},{default:u(()=>[d(T,{title:"\u673A\u67DC\u53C2\u6570",name:"1"},{default:u(()=>[p("div",Qe,[d(n,{label:"\u673A\u623F\uFF1A",prop:"roomId"},{default:u(()=>[d(t,{disabled:"",modelValue:a(o).roomName,"onUpdate:modelValue":l[0]||(l[0]=e=>a(o).roomName=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),d(n,{label:"\u673A\u67DC\u540D\u79F0\uFF1A",prop:"cabinetName"},{default:u(()=>[d(t,{modelValue:a(o).cabinetName,"onUpdate:modelValue":l[1]||(l[1]=e=>a(o).cabinetName=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),d(n,{label:"\u673A\u67DC\u7C7B\u578B\uFF1A",prop:"type"},{default:u(()=>[d(v,{modelValue:a(o).type,"onUpdate:modelValue":l[2]||(l[2]=e=>a(o).type=e),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[d(r,{label:"IT\u673A\u67DC",value:"IT\u673A\u67DC"}),d(r,{label:"\u7F51\u7EDC\u67DC",value:"\u7F51\u7EDC\u67DC"}),d(r,{label:"\u914D\u7535-\u7535\u6C60\u67DC",value:"\u914D\u7535-\u7535\u6C60\u67DC"}),d(r,{label:"\u6C34\u9600\u5360\u4F4D\u67DC",value:"\u6C34\u9600\u5360\u4F4D\u67DC"}),d(r,{label:"\u9002\u914D\u6846",value:"\u9002\u914D\u6846"}),d(r,{label:"\u67F1\u5B50",value:"\u67F1\u5B50"}),d(r,{label:"\u5360\u4F4D",value:"\u5360\u4F4D"})]),_:1},8,["modelValue"])]),_:1}),d(n,{label:"\u673A\u67DC\u9AD8\u5EA6\uFF1A",prop:"cabinetHeight"},{default:u(()=>[d(t,{modelValue:a(o).cabinetHeight,"onUpdate:modelValue":l[3]||(l[3]=e=>a(o).cabinetHeight=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),d(n,{label:"\u7535\u529B\u5BB9\u91CF\uFF1A",prop:"powCapacity "},{default:u(()=>[d(t,{modelValue:a(o).powCapacity,"onUpdate:modelValue":l[4]||(l[4]=e=>a(o).powCapacity=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),d(n,{label:"\u6240\u5C5E\u516C\u53F8\uFF1A",prop:"company"},{default:u(()=>[d(t,{modelValue:a(o).company,"onUpdate:modelValue":l[5]||(l[5]=e=>a(o).company=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),p("div",Ze,[d(n,{label:"\u65E5\u7528\u80FD\u544A\u8B66"},{default:u(()=>[d(Y,{modelValue:a(o).eleAlarmDay,"onUpdate:modelValue":l[6]||(l[6]=e=>a(o).eleAlarmDay=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),d(n,{label:"\u65E5\u7528\u80FD\u9650\u5236"},{default:u(()=>[d(ee,{modelValue:a(o).eleLimitDay,"onUpdate:modelValue":l[7]||(l[7]=e=>a(o).eleLimitDay=e),min:0,max:9999,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})]),p("div",Ge,[d(n,{label:"\u6708\u7528\u80FD\u544A\u8B66"},{default:u(()=>[d(Y,{modelValue:a(o).eleAlarmMonth,"onUpdate:modelValue":l[8]||(l[8]=e=>a(o).eleAlarmMonth=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),d(n,{label:"\u6708\u7528\u80FD\u9650\u5236"},{default:u(()=>[d(ee,{modelValue:a(o).eleLimitMonth,"onUpdate:modelValue":l[9]||(l[9]=e=>a(o).eleLimitMonth=e),min:0,max:9999,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})])])]),_:1}),d(T,{title:"PDU/\u6BCD\u7EBF\u7ED1\u5B9A",name:"2"},{default:u(()=>[d(Ae,{type:"border-card",class:"demo-tabs",modelValue:a(o).pduBox,"onUpdate:modelValue":l[26]||(l[26]=e=>a(o).pduBox=e)},{default:u(()=>[d(le,{label:"PDU",name:0},{default:u(()=>[p("div",We,[d(n,{label:"A\u8DEF\uFF1A"},{default:u(()=>[d(B,{span:4,class:"text-center"},{default:u(()=>[Xe]),_:1}),d(B,{span:8},{default:u(()=>[d(t,{modelValue:a(o).pduIpA,"onUpdate:modelValue":l[10]||(l[10]=e=>a(o).pduIpA=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),d(B,{span:4,class:"text-center"},{default:u(()=>[Ye]),_:1}),d(B,{span:8},{default:u(()=>[d(t,{modelValue:a(o).casIdA,"onUpdate:modelValue":l[11]||(l[11]=e=>a(o).casIdA=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})]),_:1}),d(n,{label:"B\u8DEF\uFF1A"},{default:u(()=>[d(B,{span:4,class:"text-center"},{default:u(()=>[el]),_:1}),d(B,{span:8},{default:u(()=>[d(t,{modelValue:a(o).pduIpB,"onUpdate:modelValue":l[12]||(l[12]=e=>a(o).pduIpB=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),d(B,{span:4,class:"text-center"},{default:u(()=>[ll]),_:1}),d(B,{span:8},{default:u(()=>[d(t,{modelValue:a(o).casIdB,"onUpdate:modelValue":l[13]||(l[13]=e=>a(o).casIdB=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1}),d(le,{label:"\u6BCD\u7EBF",name:1},{default:u(()=>[p("div",al,[p("div",null,[dl,d(n,{label:"\u6BCD\u7EBF\u5730\u5740\uFF1A"},{default:u(()=>[d(t,{modelValue:a(o).busIpA,"onUpdate:modelValue":l[14]||(l[14]=e=>a(o).busIpA=e),disabled:a(A),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue","disabled"])]),_:1}),d(n,{label:"\u6BCD\u7EBF\u7F16\u53F7\uFF1A"},{default:u(()=>[d(t,{modelValue:a(o).barIdA,"onUpdate:modelValue":l[15]||(l[15]=e=>a(o).barIdA=e),disabled:a(A),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue","disabled"])]),_:1}),d(n,{label:"\u63D2\u63A5\u7BB1\u7F16\u53F7\uFF1A"},{default:u(()=>[a(A)?(s(),b(v,{key:0,modelValue:a(o).boxIndexA,"onUpdate:modelValue":l[16]||(l[16]=e=>a(o).boxIndexA=e),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[(s(!0),I(f,null,g(a(R),(e,c)=>(s(),b(r,{key:c,disabled:!!e.type,label:`${e.type?"\u8FDE\u63A5\u5668":"\u63D2\u63A5\u7BB1"}${c+1}`,value:c},null,8,["disabled","label","value"]))),128))]),_:1},8,["modelValue"])):(s(),b(t,{key:1,modelValue:a(o).boxIndexA,"onUpdate:modelValue":l[17]||(l[17]=e=>a(o).boxIndexA=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"]))]),_:1}),d(n,{label:"\u63D2\u63A5\u7BB1\u8F93\u51FA\u4F4D\uFF1A"},{default:u(()=>[a(A)?(s(),b(v,{key:0,modelValue:a(o).boxOutletIdA,"onUpdate:modelValue":l[18]||(l[18]=e=>a(o).boxOutletIdA=e),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[(s(),I(f,null,g(3,e=>d(r,{key:e,label:"\u8F93\u51FA\u4F4D"+e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])):(s(),b(t,{key:1,modelValue:a(o).boxOutletIdA,"onUpdate:modelValue":l[19]||(l[19]=e=>a(o).boxOutletIdA=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"]))]),_:1})]),p("div",null,[ol,d(n,{label:"\u6BCD\u7EBF\u5730\u5740\uFF1A"},{default:u(()=>[d(t,{modelValue:a(o).busIpB,"onUpdate:modelValue":l[20]||(l[20]=e=>a(o).busIpB=e),disabled:a(A),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue","disabled"])]),_:1}),d(n,{label:"\u6BCD\u7EBF\u7F16\u53F7\uFF1A"},{default:u(()=>[d(t,{modelValue:a(o).barIdB,"onUpdate:modelValue":l[21]||(l[21]=e=>a(o).barIdB=e),disabled:a(A),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue","disabled"])]),_:1}),d(n,{label:"\u63D2\u63A5\u7BB1\u7F16\u53F7\uFF1A"},{default:u(()=>[a(A)?(s(),b(v,{key:0,modelValue:a(o).boxIndexB,"onUpdate:modelValue":l[22]||(l[22]=e=>a(o).boxIndexB=e),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[(s(!0),I(f,null,g(a(J),(e,c)=>(s(),b(r,{key:c,disabled:!!e.type,label:`${e.type?"\u8FDE\u63A5\u5668":"\u63D2\u63A5\u7BB1"}${c+1}`,value:e.boxIndex},null,8,["disabled","label","value"]))),128))]),_:1},8,["modelValue"])):(s(),b(t,{key:1,modelValue:a(o).boxIndexB,"onUpdate:modelValue":l[23]||(l[23]=e=>a(o).boxIndexB=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"]))]),_:1}),d(n,{label:"\u63D2\u63A5\u7BB1\u8F93\u51FA\u4F4D\uFF1A"},{default:u(()=>[a(A)?(s(),b(v,{key:0,modelValue:a(o).boxOutletIdB,"onUpdate:modelValue":l[24]||(l[24]=e=>a(o).boxOutletIdB=e),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[(s(),I(f,null,g(3,e=>d(r,{key:e,label:"\u8F93\u51FA\u4F4D"+e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])):(s(),b(t,{key:1,modelValue:a(o).boxOutletIdB,"onUpdate:modelValue":l[25]||(l[25]=e=>a(o).boxOutletIdB=e),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"]))]),_:1})])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(o).pduBox==0?(s(),b(T,{key:0,title:"\u673A\u67DC\u4E0E\u4F20\u611F\u5668",name:"4"},{default:u(()=>[p("div",ul,[p("div",tl,[(s(!0),I(f,null,g(a(h),(e,c)=>(s(),I(f,{key:c},[c>0?(s(),I("div",nl)):L("",!0),d(de,{placement:"right",effect:"light"},{content:u(()=>[V("PDU: "+P(e.pathPdu),1),sl,V("\u4F20\u611F\u5668id: "+P(e.sensorId),1)]),default:u(()=>[p("div",{class:pe(e.pathPdu?"boxActive":"box"),onClick:j(E=>G(e,0,c),["prevent"])},[V(P(z[e.type])+P(e.position?Z[e.position]:"")+" ",1),e.pathPdu?(s(),I("div",{key:0,onClick:j(E=>W(0,c),["stop"]),class:"delete"},[d(ae,{icon:"ep:close"})],8,il)):L("",!0)],10,pl)]),_:2},1024)],64))),128)),rl]),p("div",ml,[(s(!0),I(f,null,g(a(_),(e,c)=>(s(),I(f,{key:c},[c>0?(s(),I("div",cl)):L("",!0),d(de,{placement:"right",effect:"light"},{content:u(()=>[V("PDU: "+P(e.pathPdu),1),bl,V("\u4F20\u611F\u5668id: "+P(e.sensorId),1)]),default:u(()=>[p("div",{class:pe(e.sensorId?"boxActive":"box"),onClick:j(E=>G(e,1,c),["prevent"])},[V(P(z[e.type])+P(e.position?Z[e.position]:"")+" ",1),e.pathPdu?(s(),I("div",{key:0,onClick:j(E=>W(1,c),["stop"]),class:"delete"},[d(ae,{icon:"ep:close"})],8,vl)):L("",!0)],10,Il)]),_:2},1024)],64))),128)),hl])])]),_:1})):L("",!0)]),_:1},8,["modelValue"])]),_:1},8,["model","rules"])),[[te,a(w)]])]),d(ue,{id:"sensorDialog",modelValue:a(k),"onUpdate:modelValue":l[32]||(l[32]=e=>S(k)?k.value=e:null),width:"500px",title:"\u4F20\u611F\u5668"},{footer:u(()=>[d(M,{onClick:l[31]||(l[31]=e=>k.value=!1)},{default:u(()=>[V("\u53D6 \u6D88")]),_:1}),d(M,{disabled:a(Q),type:"primary",onClick:he},{default:u(()=>[V("\u786E \u5B9A")]),_:1},8,["disabled"])]),default:u(()=>[p("div",yl,[se((s(),b(oe,{ref_key:"sensorForm",ref:fe,model:a(y),rules:a(ve),"label-width":"80px",center:""},{default:u(()=>[d(n,{label:"\u7C7B\u578B"},{default:u(()=>[d(t,{disabled:"",value:z[a(y).type]},null,8,["value"])]),_:1}),d(n,{label:"PDU",prop:"pathPdu"},{default:u(()=>[d(v,{modelValue:a(y).pathPdu,"onUpdate:modelValue":l[29]||(l[29]=e=>a(y).pathPdu=e),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[d(r,{label:"A\u8DEF",value:"A"}),d(r,{label:"B\u8DEF",value:"B"})]),_:1},8,["modelValue"])]),_:1}),d(n,{label:"\u4F20\u611F\u5668id",prop:"sensorId"},{default:u(()=>[d(v,{modelValue:a(y).sensorId,"onUpdate:modelValue":l[30]||(l[30]=e=>a(y).sensorId=e),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[a(y).type==1&&a(O)[0]==0?(s(!0),I(f,{key:0},g(a(H),e=>(s(),b(r,{key:e,label:e,value:e},null,8,["label","value"]))),128)):a(y).type==1&&a(O)[0]==1?(s(!0),I(f,{key:1},g(a($),e=>(s(),b(r,{key:e,label:e,value:e},null,8,["label","value"]))),128)):(s(),I(f,{key:2},g(2,e=>d(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[te,a(Q)]])])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])}}}),[["__scopeId","data-v-3966dd46"]]);export{fl as default};
