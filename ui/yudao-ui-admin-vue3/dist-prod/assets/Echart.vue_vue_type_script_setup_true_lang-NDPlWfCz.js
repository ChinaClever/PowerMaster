import{Z as Ct,c as ee,a as ae,e as re,g as ie,M as Tt,b as oe,n as ne,m as se,A as le,d as de,f as At,h as ce,j as Bt,k as ue,l as jt,o as fe,p as he,q as me,r as ge,s as pe,t as ve,u as we,v as ye,w as Wt,x as be,y as xe,z as Nt,B as Me,C as Se,D as Ce,E as Te,F as Ie,G as ke,H as Ee,I as Pe,J as Oe,K as ze,L as _e,N as Re,O as De,P as Le,Q as Fe,R as Ae,S as Be,T as je,U as We,V as Ne,W as qe,X as He,Y as Xe,_ as Ye,$ as Ge,a0 as Ue,a1 as Ve,a2 as $e,a3 as Je,a4 as Ze,a5 as Ke,a6 as Qe,a7 as ta,a8 as ea,a9 as aa,aa as ra,ab as ia,ac as oa,ad as na,ae as qt,af as sa,ag as la,ah as da,ai as ca,aj as ua,ak as fa,al as ha,am as ma,an as ga,ao as pa,ap as va,aq as It,ar as wa,as as ya,at as ba,au as xa,av as Ht,aw as Ma,ax as Sa,ay as Ca,az as Ta,aA as Ia,aB as ka,aC as kt,aD as Et,aE as Pt,aF as Ot,aG as Ea,aH as Xt,aI as Pa,aJ as Oa,aK as za,aL as _a,aM as Ra,aN as Da,aO as La,aP as Fa,aQ as Aa,aR as Ba,aS as ja,aT as Wa,aU as Na,i as qa,aV as Ha,aW as Xa,aX as Yt,aY as Ya,aZ as Ga,a_ as Gt,a$ as Ua,b0 as Va,b1 as $a,b2 as Ja,b3 as Za,b4 as Ut,b5 as Ka,b6 as Qa,b7 as tr,b8 as er,b9 as ar,ba as rr,bb as ir,bc as or,bd as vt,be as nr,bf as sr,bg as lr,bh as dr,bi as cr,bj as ur,bk as fr,bl as hr,bm as mr,bn as gr,bo as pr,bp as vr,bq as wr,br as yr,bs as br,bt as xr,bu as Mr,bv as Vt,bw as Sr,bx as Cr,by as Tr,bz as Ir,bA as kr}from"./installCanvasRenderer-WHaFMoQ9.js";import{d as Er,af as $t,$ as Pr,g as wt,e as Jt,aj as Or,b1 as zr,h as _r,a as Y,b2 as Rr,b3 as Dr,o as Lr,c as Fr,a0 as Ar,v as Br,a4 as jr,aw as Zt}from"./index-mcOGIq4g.js";var Wr={isDimensionStacked:ae,enableDataStack:re,getStackedDimension:ie};function mt(e,o){return de(e,null,null,(o=o||{}).state!=="normal")}const Nr=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:At,createList:function(e){return ee(null,e)},createScale:function(e,o){var i=o;o instanceof Tt||(i=new Tt(o));var t=oe(i);return t.setExtent(e[0],e[1]),ne(t,i),t},createSymbol:ce,createTextStyle:mt,dataStack:Wr,enableHoverEmphasis:Bt,getECData:ue,getLayoutRect:jt,mixinAxisModelCommonMethods:function(e){se(e,le)}},Symbol.toStringTag,{value:"Module"})),qr=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:fe,asc:he,getPercentWithPrecision:me,getPixelPrecision:ge,getPrecision:pe,getPrecisionSafe:ve,isNumeric:we,isRadianAroundZero:ye,linearMap:Wt,nice:be,numericToNumber:xe,parseDate:Nt,quantile:Me,quantity:Se,quantityExponent:Ce,reformIntervals:Te,remRadian:Ie,round:ke},Symbol.toStringTag,{value:"Module"})),Hr=Object.freeze(Object.defineProperty({__proto__:null,format:Ee,parse:Nt},Symbol.toStringTag,{value:"Module"})),Xr=Object.freeze(Object.defineProperty({__proto__:null,Arc:Pe,BezierCurve:Oe,BoundingRect:ze,Circle:_e,CompoundPath:Re,Ellipse:De,Group:Le,Image:Fe,IncrementalDisplayable:Ae,Line:Be,LinearGradient:je,Polygon:We,Polyline:Ne,RadialGradient:qe,Rect:He,Ring:Xe,Sector:Ye,Text:Ct,clipPointsByRect:Ge,clipRectByRect:Ue,createIcon:Ve,extendPath:$e,extendShape:Je,getShapeClass:Ze,getTransform:Ke,initProps:Qe,makeImage:ta,makePath:ea,mergePath:aa,registerShape:ra,resizePath:ia,updateProps:oa},Symbol.toStringTag,{value:"Module"})),Yr=Object.freeze(Object.defineProperty({__proto__:null,addCommas:na,capitalFirst:qt,encodeHTML:sa,formatTime:la,formatTpl:da,getTextRect:function(e,o,i,t,v,c,k,h){return new Ct({style:{text:e,font:o,align:i,verticalAlign:t,padding:v,rich:c,overflow:k?"truncate":null,lineHeight:h}}).getBoundingRect()},getTooltipMarker:ca,normalizeCssArray:ua,toCamelCase:fa,truncateText:ha},Symbol.toStringTag,{value:"Module"})),Gr=Object.freeze(Object.defineProperty({__proto__:null,bind:ma,clone:ga,curry:pa,defaults:va,each:It,extend:wa,filter:ya,indexOf:ba,inherits:xa,isArray:Ht,isFunction:Ma,isObject:Sa,isString:Ca,map:Ta,merge:Ia,reduce:ka},Symbol.toStringTag,{value:"Module"}));function zt(e){var o=kt.extend(e);return kt.registerClass(o),o}function _t(e){var o=Et.extend(e);return Et.registerClass(o),o}const Ur=Object.freeze(Object.defineProperty({__proto__:null,Axis:Ea,ChartView:Et,ComponentModel:Pt,ComponentView:Ot,List:Xt,Model:Tt,PRIORITY:Pa,SeriesModel:kt,color:Oa,connect:za,dataTool:_a,dependencies:Ra,disConnect:Da,disconnect:La,dispose:Fa,env:Aa,extendChartView:_t,extendComponentModel:function(e){var o=Pt.extend(e);return Pt.registerClass(o),o},extendComponentView:function(e){var o=Ot.extend(e);return Ot.registerClass(o),o},extendSeriesModel:zt,format:Yr,getCoordinateSystemDimensions:Ba,getInstanceByDom:ja,getInstanceById:Wa,getMap:Na,graphic:Xr,helper:Nr,init:qa,innerDrawElementOnCanvas:Ha,matrix:Xa,number:qr,parseGeoJSON:Yt,parseGeoJson:Yt,registerAction:Ya,registerCoordinateSystem:Ga,registerLayout:Gt,registerLoading:Ua,registerLocale:Va,registerMap:$a,registerPostInit:Ja,registerPostUpdate:Za,registerPreprocessor:Ut,registerProcessor:Ka,registerTheme:Qa,registerTransform:tr,registerUpdateLifecycle:er,registerVisual:ar,setCanvasCreator:rr,setPlatformAPI:ir,throttle:or,time:Hr,use:vt,util:Gr,vector:nr,version:sr,zrUtil:lr,zrender:dr},Symbol.toStringTag,{value:"Module"}));vt([cr,ur,fr,hr,mr,gr,pr,vr,wr,yr,br,xr,Mr,Vt,Sr,Cr,Tr]),vt([Vt,Ir]),vt(kr),zt({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(e){return{fill:e.get("color")}},visualDrawType:"fill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,o){var i=At(e.data,{coordDimensions:["value"]}),t=new Xt(i,this);return t.initData(e.data),t},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}}),_t({type:"wordCloud",render:function(e,o,i){var t=this.group;t.removeAll();var v=e.getData(),c=e.get("gridSize");e.layoutInstance.ondraw=function(k,h,s,b){var p=v.getItemModel(s),F=p.getModel("textStyle"),T=new Ct({style:mt(F),scaleX:1/b.info.mu,scaleY:1/b.info.mu,x:(b.gx+b.info.gw/2)*c,y:(b.gy+b.info.gh/2)*c,rotation:b.rot});T.setStyle({x:b.info.fillTextOffsetX,y:b.info.fillTextOffsetY+.5*h,text:k,verticalAlign:"middle",fill:v.getItemVisual(s,"style").fill,fontSize:h}),t.add(T),v.setItemGraphicEl(s,T),T.ensureState("emphasis").style=mt(p.getModel(["emphasis","textStyle"]),{state:"emphasis"}),T.ensureState("blur").style=mt(p.getModel(["blur","textStyle"]),{state:"blur"}),Bt(T,p.get(["emphasis","focus"]),p.get(["emphasis","blurScope"])),T.stateTransition={duration:e.get("animation")?e.get(["stateAnimation","duration"]):0,easing:e.get(["stateAnimation","easing"])},T.__highDownDispatcher=!0},this._model=e},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}}),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var e=[void 0],o="zero-timeout-message";return window.addEventListener("message",function(i){if(typeof i.data=="string"&&i.data.substr(0,20)===o){i.stopImmediatePropagation();var t=parseInt(i.data.substr(20),36);e[t]&&(e[t](),e[t]=void 0)}},!0),window.clearImmediate=function(i){e[i]&&(e[i]=void 0)},function(i){var t=e.length;return e.push(i),window.postMessage(o+t.toString(36),"*"),t}}()||function(e){window.setTimeout(e,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(e){window.clearTimeout(e)});var Rt=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var o=e.getContext("2d");return!!o&&!!o.getImageData&&!!o.fillText&&!!Array.prototype.some&&!!Array.prototype.push}(),Dt=function(){if(Rt){for(var e,o,i=document.createElement("canvas").getContext("2d"),t=20;t;){if(i.font=t.toString(10)+"px sans-serif",i.measureText("\uFF37").width===e&&i.measureText("m").width===o)return t+1;e=i.measureText("\uFF37").width,o=i.measureText("m").width,t--}return 0}}(),Vr=function(e){for(var o,i,t=e.length;t;)o=Math.floor(Math.random()*t),i=e[--t],e[t]=e[o],e[o]=i;return e},ut={},yt=function(e,o){if(Rt){var i=Math.floor(Math.random()*Date.now());Array.isArray(e)||(e=[e]),e.forEach(function(a,r){if(typeof a=="string"){if(e[r]=document.getElementById(a),!e[r])throw new Error("The element id specified is not found.")}else if(!a.tagName&&!a.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(o)for(var v in o)v in t&&(t[v]=o[v]);if(typeof t.weightFactor!="function"){var c=t.weightFactor;t.weightFactor=function(a){return a*c}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(a){return 1-Math.sin(a)};break;case"diamond":t.shape=function(a){var r=a%(2*Math.PI/4);return 1/(Math.cos(r)+Math.sin(r))};break;case"square":t.shape=function(a){return Math.min(1/Math.abs(Math.cos(a)),1/Math.abs(Math.sin(a)))};break;case"triangle-forward":t.shape=function(a){var r=a%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"triangle":case"triangle-upright":t.shape=function(a){var r=(a+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"pentagon":t.shape=function(a){var r=(a+.955)%(2*Math.PI/5);return 1/(Math.cos(r)+.726543*Math.sin(r))};break;case"star":t.shape=function(a){var r=(a+.955)%(2*Math.PI/10);return(a+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-r)+3.07768*Math.sin(2*Math.PI/10-r)):1/(Math.cos(r)+3.07768*Math.sin(r))}}t.gridSize=Math.max(Math.floor(t.gridSize),4);var k,h,s,b,p,F,T,R,n=t.gridSize,X=n-t.maskGapWidth,m=Math.abs(t.maxRotation-t.minRotation),w=Math.min(t.maxRotation,t.minRotation),x=t.rotationStep;switch(t.color){case"random-dark":T=function(){return Lt(10,50)};break;case"random-light":T=function(){return Lt(50,90)};break;default:typeof t.color=="function"&&(T=t.color)}typeof t.fontWeight=="function"&&(R=t.fontWeight);var I=null;typeof t.classes=="function"&&(I=t.classes);var ot,nt=!1,g=[],gt=function(a){var r,l,u=a.currentTarget,f=u.getBoundingClientRect();a.touches?(r=a.touches[0].clientX,l=a.touches[0].clientY):(r=a.clientX,l=a.clientY);var G=r-f.left,j=l-f.top,U=Math.floor(G*(u.width/f.width||1)/n),P=Math.floor(j*(u.height/f.height||1)/n);return g[U]?g[U][P]:null},ft=function(a){var r=gt(a);ot!==r&&(ot=r,r?t.hover(r.item,r.dimension,a):t.hover(void 0,void 0,a))},bt=function(a){var r=gt(a);r&&(t.click(r.item,r.dimension,a),a.preventDefault())},xt=[],Kt=function(a){if(xt[a])return xt[a];var r=8*a,l=r,u=[];for(a===0&&u.push([b[0],b[1],0]);l--;){var f=1;t.shape!=="circle"&&(f=t.shape(l/r*2*Math.PI)),u.push([b[0]+a*f*Math.cos(-l/r*2*Math.PI),b[1]+a*f*Math.sin(-l/r*2*Math.PI)*t.ellipticity,l/r*2*Math.PI])}return xt[a]=u,u},Mt=function(){return t.abortThreshold>0&&new Date().getTime()-F>t.abortThreshold},Qt=function(a,r,l,u,f){a>=h||r>=s||a<0||r<0||(k[a][r]=!1,l&&e[0].getContext("2d").fillRect(a*n,r*n,X,X),nt&&(g[a][r]={item:f,dimension:u}))},te=function a(r,l){if(l>20)return null;var u,f,G;Array.isArray(r)?(u=r[0],f=r[1]):(u=r.word,f=r.weight,G=r.attributes);var j=t.rotateRatio===0||Math.random()>t.rotateRatio?0:m===0?w:w+Math.round(Math.random()*m/x)*x,U=function(d){if(Array.isArray(d)){var S=d.slice();return S.splice(0,2),S}return[]}(r),P=function(d,S,O,$){var E=t.weightFactor(S);if(E<=t.minSize)return!1;var y,M=1;E<Dt&&(M=function(){for(var St=2;St*E<Dt;)St+=2;return St}()),y=R?R(d,S,E,$):t.fontWeight;var D=document.createElement("canvas"),C=D.getContext("2d",{willReadFrequently:!0});C.font=y+" "+(E*M).toString(10)+"px "+t.fontFamily;var A=C.measureText(d).width/M,z=Math.max(E*M,C.measureText("m").width,C.measureText("\uFF37").width)/M,W=A+2*z,N=3*z,B=Math.ceil(W/n),J=Math.ceil(N/n);W=B*n,N=J*n;var V=-A/2,L=.4*-z,Z=Math.ceil((W*Math.abs(Math.sin(O))+N*Math.abs(Math.cos(O)))/n),_=Math.ceil((W*Math.abs(Math.cos(O))+N*Math.abs(Math.sin(O)))/n),q=_*n,K=Z*n;D.setAttribute("width",q),D.setAttribute("height",K),C.scale(1/M,1/M),C.translate(q*M/2,K*M/2),C.rotate(-O),C.font=y+" "+(E*M).toString(10)+"px "+t.fontFamily,C.fillStyle="#000",C.textBaseline="middle",C.fillText(d,V*M,(L+.5*E)*M);var rt=C.getImageData(0,0,q,K).data;if(Mt())return!1;for(var H,dt,ct,Ft=[],it=_,Q=[Z/2,_/2,Z/2,_/2];it--;)for(H=Z;H--;){ct=n;t:for(;ct--;)for(dt=n;dt--;)if(rt[4*((H*n+ct)*q+(it*n+dt))+3]){Ft.push([it,H]),it<Q[3]&&(Q[3]=it),it>Q[1]&&(Q[1]=it),H<Q[0]&&(Q[0]=H),H>Q[2]&&(Q[2]=H);break t}}return{mu:M,occupied:Ft,bounds:Q,gw:_,gh:Z,fillTextOffsetX:V,fillTextOffsetY:L,fillTextWidth:A,fillTextHeight:z,fontSize:E}}(u,f,j,U);if(!P||Mt())return!1;if(!t.drawOutOfBound&&!t.shrinkToFit){var tt=P.bounds;if(tt[1]-tt[3]+1>h||tt[2]-tt[0]+1>s)return!1}for(var st=p+1,pt=function(d){var S=Math.floor(d[0]-P.gw/2),O=Math.floor(d[1]-P.gh/2);return P.gw,P.gh,!!function($,E,y,M,D){for(var C=D.length;C--;){var A=$+D[C][0],z=E+D[C][1];if(A>=h||z>=s||A<0||z<0){if(!t.drawOutOfBound)return!1}else if(!k[A][z])return!1}return!0}(S,O,0,0,P.occupied)&&(function($,E,y,M,D,C,A,z,W,N){var B,J,V,L=y.fontSize;B=T?T(M,D,L,C,A,N):t.color,J=R?R(M,D,L,N):t.fontWeight,V=I?I(M,D,L,N):t.classes,e.forEach(function(Z){if(Z.getContext){var _=Z.getContext("2d"),q=y.mu;_.save(),_.scale(1/q,1/q),_.font=J+" "+(L*q).toString(10)+"px "+t.fontFamily,_.fillStyle=B,_.translate(($+y.gw/2)*n*q,(E+y.gh/2)*n*q),z!==0&&_.rotate(-z),_.textBaseline="middle",_.fillText(M,y.fillTextOffsetX*q,(y.fillTextOffsetY+.5*L)*q),_.restore()}else{var K=document.createElement("span"),rt="";rt="rotate("+-z/Math.PI*180+"deg) ",y.mu!==1&&(rt+="translateX(-"+y.fillTextWidth/4+"px) scale("+1/y.mu+")");var H={position:"absolute",display:"block",font:J+" "+L*y.mu+"px "+t.fontFamily,left:($+y.gw/2)*n+y.fillTextOffsetX+"px",top:(E+y.gh/2)*n+y.fillTextOffsetY+"px",width:y.fillTextWidth+"px",height:y.fillTextHeight+"px",lineHeight:L+"px",whiteSpace:"nowrap",transform:rt,webkitTransform:rt,msTransform:rt,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var dt in B&&(H.color=B),K.textContent=M,H)K.style[dt]=H[dt];if(W)for(var ct in W)K.setAttribute(ct,W[ct]);V&&(K.className+=V),Z.appendChild(K)}})}(S,O,P,u,f,p-st,d[2],j,G,U),function($,E,y,M,D,C){var A,z,W=D.occupied,N=t.drawMask;if(N&&((A=e[0].getContext("2d")).save(),A.fillStyle=t.maskColor),nt){var B=D.bounds;z={x:($+B[3])*n,y:(E+B[0])*n,w:(B[1]-B[3]+1)*n,h:(B[2]-B[0]+1)*n}}for(var J=W.length;J--;){var V=$+W[J][0],L=E+W[J][1];V>=h||L>=s||V<0||L<0||Qt(V,L,N,z,C)}N&&A.restore()}(S,O,0,0,P,r),{gx:S,gy:O,rot:j,info:P})};st--;){var et=Kt(p-st);t.shuffle&&(et=[].concat(et),Vr(et));for(var at=0;at<et.length;at++){var lt=pt(et[at]);if(lt)return lt}}return t.shrinkToFit?(Array.isArray(r)?r[1]=3*r[1]/4:r.weight=3*r.weight/4,a(r,l+1)):null},ht=function(a,r,l){if(r)return!e.some(function(u){var f=new CustomEvent(a,{detail:l||{}});return!u.dispatchEvent(f)},this);e.forEach(function(u){var f=new CustomEvent(a,{detail:l||{}});u.dispatchEvent(f)},this)};(function(){var a=e[0];if(a.getContext)h=Math.ceil(a.width/n),s=Math.ceil(a.height/n);else{var r=a.getBoundingClientRect();h=Math.ceil(r.width/n),s=Math.ceil(r.height/n)}if(ht("wordcloudstart",!0)){var l,u,f,G,j;if(b=t.origin?[t.origin[0]/n,t.origin[1]/n]:[h/2,s/2],p=Math.floor(Math.sqrt(h*h+s*s)),k=[],!a.getContext||t.clearCanvas)for(e.forEach(function(d){if(d.getContext){var S=d.getContext("2d");S.fillStyle=t.backgroundColor,S.clearRect(0,0,h*(n+1),s*(n+1)),S.fillRect(0,0,h*(n+1),s*(n+1))}else d.textContent="",d.style.backgroundColor=t.backgroundColor,d.style.position="relative"}),l=h;l--;)for(k[l]=[],u=s;u--;)k[l][u]=!0;else{var U=document.createElement("canvas").getContext("2d");U.fillStyle=t.backgroundColor,U.fillRect(0,0,1,1);var P,tt,st=U.getImageData(0,0,1,1).data,pt=a.getContext("2d").getImageData(0,0,h*n,s*n).data;for(l=h;l--;)for(k[l]=[],u=s;u--;){tt=n;t:for(;tt--;)for(P=n;P--;)for(f=4;f--;)if(pt[4*((u*n+tt)*h*n+(l*n+P))+f]!==st[f]){k[l][u]=!1;break t}k[l][u]!==!1&&(k[l][u]=!0)}pt=U=st=void 0}if(t.hover||t.click){for(nt=!0,l=h+1;l--;)g[l]=[];t.hover&&a.addEventListener("mousemove",ft),t.click&&(a.addEventListener("click",bt),a.addEventListener("touchstart",bt),a.addEventListener("touchend",function(d){d.preventDefault()}),a.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),a.addEventListener("wordcloudstart",function d(){a.removeEventListener("wordcloudstart",d),a.removeEventListener("mousemove",ft),a.removeEventListener("click",bt),ot=void 0})}f=0;var et=!0;t.layoutAnimation?t.wait!==0?(G=window.setTimeout,j=window.clearTimeout):(G=window.setImmediate,j=window.clearImmediate):(G=function(d){d()},j=function(){et=!1});var at=function(d,S){e.forEach(function(O){O.removeEventListener(d,S)},this)},lt=function d(){at("wordcloudstart",d),j(ut[i])};(function(d,S){e.forEach(function(O){O.addEventListener(d,S)},this)})("wordcloudstart",lt),ut[i]=(t.layoutAnimation?G:setTimeout)(function d(){if(et){if(f>=t.list.length)return j(ut[i]),ht("wordcloudstop",!1),at("wordcloudstart",lt),void delete ut[i];F=new Date().getTime();var S=te(t.list[f],0),O=!ht("wordclouddrawn",!0,{item:t.list[f],drawn:S});if(Mt()||O)return j(ut[i]),t.abort(),ht("wordcloudabort",!1),ht("wordcloudstop",!1),void at("wordcloudstart",lt);f++,ut[i]=G(d,t.wait)}},t.wait)}})()}function Lt(a,r){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(r-a)+a).toFixed()+"%)"}};if(yt.isSupported=Rt,yt.minFontSize=Dt,!yt.isSupported)throw new Error("Sorry your browser not support wordCloud");Gt(function(e,o){e.eachSeriesByType("wordCloud",function(i){var t=jt(i.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),v=i.get("keepAspect"),c=i.get("maskImage"),k=c?c.width/c.height:1;v&&function(m,w){var x=m.width,I=m.height;x>I*w?(m.x+=(x-I*w)/2,m.width=I*w):(m.y+=(I-x/w)/2,m.height=x/w)}(t,k);var h=i.getData(),s=document.createElement("canvas");s.width=t.width,s.height=t.height;var b=s.getContext("2d");if(c)try{b.drawImage(c,0,0,s.width,s.height),function(m){for(var w=m.getContext("2d"),x=w.getImageData(0,0,m.width,m.height),I=w.createImageData(x),ot=0,nt=0,g=0;g<x.data.length;g+=4)x.data[g+3]>128&&(ot+=ft=x.data[g]+x.data[g+1]+x.data[g+2],++nt);var gt=ot/nt;for(g=0;g<x.data.length;g+=4){var ft=x.data[g]+x.data[g+1]+x.data[g+2];x.data[g+3]<128||ft>gt?(I.data[g]=0,I.data[g+1]=0,I.data[g+2]=0,I.data[g+3]=0):(I.data[g]=255,I.data[g+1]=255,I.data[g+2]=255,I.data[g+3]=255)}w.putImageData(I,0,0)}(s)}catch{}var p=i.get("sizeRange"),F=i.get("rotationRange"),T=h.getDataExtent("value"),R=Math.PI/180,n=i.get("gridSize");function X(m){var w=m.detail.item;m.detail.drawn&&i.layoutInstance.ondraw&&(m.detail.drawn.gx+=t.x/n,m.detail.drawn.gy+=t.y/n,i.layoutInstance.ondraw(w[0],w[1],w[2],m.detail.drawn))}yt(s,{list:h.mapArray("value",function(m,w){var x=h.getItemModel(w);return[h.getName(w),x.get("textStyle.fontSize",!0)||Wt(m,T,p),w]}).sort(function(m,w){return w[1]-m[1]}),fontFamily:i.get("textStyle.fontFamily")||i.get("emphasis.textStyle.fontFamily")||e.get("textStyle.fontFamily"),fontWeight:i.get("textStyle.fontWeight")||i.get("emphasis.textStyle.fontWeight")||e.get("textStyle.fontWeight"),gridSize:n,ellipticity:t.height/t.width,minRotation:F[0]*R,maxRotation:F[1]*R,clearCanvas:!c,rotateRatio:1,rotationStep:i.get("rotationStep")*R,drawOutOfBound:i.get("drawOutOfBound"),shrinkToFit:i.get("shrinkToFit"),layoutAnimation:i.get("layoutAnimation"),shuffle:!1,shape:i.get("shape")}),s.addEventListener("wordclouddrawn",X),i.layoutInstance&&i.layoutInstance.dispose(),i.layoutInstance={ondraw:null,dispose:function(){s.removeEventListener("wordclouddrawn",X),s.addEventListener("wordclouddrawn",function(m){m.preventDefault()})}}})}),Ut(function(e){var o=(e||{}).series;!Ht(o)&&(o=o?[o]:[]);var i=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function t(v){v&&It(i,function(c){v.hasOwnProperty(c)&&(v["text"+qt(c)]=v[c])})}It(o,function(v){if(v&&v.type==="wordCloud"){var c=v.textStyle||{};t(c.normal),t(c.emphasis)}})});const $r=Er({name:"EChart",__name:"Echart",props:{options:{type:Object,required:!0},width:$t.oneOfType([Number,String]).def(""),height:$t.oneOfType([Number,String]).def("500px")},setup(e){const{getPrefixCls:o,variables:i}=jr(),t=o("echart"),v=Pr(),c=e,k=wt(()=>v.getIsDark),h=wt(()=>!!Y(k)||"auto"),s=wt(()=>Object.assign(c.options,{darkMode:Y(h)})),b=Jt();let p=null;const F=Jt(),T=wt(()=>({width:Zt(c.width)?c.width:`${c.width}px`,height:Zt(c.height)?c.height:`${c.height}px`}));Or(()=>s.value,X=>{p&&(p==null||p.setOption(X,!0),R())},{deep:!0});const R=zr(()=>{p&&p.resize()},100),n=async X=>{X.propertyName==="width"&&R()};return _r(()=>{Y(b)&&c.options&&(p=Ur.init(Y(b)),p==null||p.setOption(Y(s))),window.addEventListener("resize",R),F.value=document.getElementsByClassName(`${i.namespace}-layout-content`)[0],Y(F)&&Y(F).addEventListener("transitionend",n)}),Rr(()=>{window.removeEventListener("resize",R),Y(F)&&Y(F).removeEventListener("transitionend",n)}),Dr(()=>{p&&p.resize()}),(X,m)=>(Lr(),Fr("div",{ref_key:"elRef",ref:b,class:Ar([X.$attrs.class,Y(t)]),style:Br(Y(T))},null,6))}});export{$r as _,_t as a,mt as c,zt as e};
