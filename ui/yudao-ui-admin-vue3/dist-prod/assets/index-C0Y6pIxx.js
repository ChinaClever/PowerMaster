import{_ as D}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BHQCcaX3.js";import{d as V,u as T,e as m,o as r,n as j,w as y,j as e,t as l,a,k as t,ax as K,l as k,c as o,F as b,p as N,v as P,q,A as E,_ as F,D as G,G as J,J as W,K as $}from"./index-mcOGIq4g.js";import{C as z}from"./index-JEsRnusb.js";import{_ as M}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./el-card-FPJq94NZ.js";const d=f=>(W("data-v-d8476391"),f=f(),$(),f),O={class:"title",style:{display:"flex","justify-content":"flex-start","margin-bottom":"20px","margin-top":"-10px"}},Q={style:{"margin-left":"10px"}},R={style:{"margin-left":"10px"}},X={style:{"margin-left":"10px"}},Y={style:{"margin-left":"10px"}},Z={key:0},ee={class:"screenContiner"},ae={class:"deviceList"},le={class:"name"},se={style:{"margin-left":"40px"}},te={class:"info"},ne=d(()=>e("span",{style:{"margin-left":"100px"}},"\u72B6\u6001\uFF1A",-1)),ie={key:0,style:{color:"grey"}},re={key:1,style:{color:"green"}},ce={style:{"margin-left":"50px"}},pe={style:{width:"20%",height:"100%"}},oe={class:"machine"},de={class:"mainBorder"},ue={class:"main"},me={key:1,class:"Uitem"},ve=d(()=>e("div",{class:"base"},null,-1)),ge={class:"local"},ye={class:"infomation"},fe={class:"infoItem"},xe={class:"num"},he=d(()=>e("span",null,"\u7A7A\u95F4\u603B\u5BB9\u91CF",-1)),ke=d(()=>e("div",{class:"line"},null,-1)),be={class:"infoItem"},Ie={class:"num"},Ae=d(()=>e("span",null,"\u5DF2\u7528\u7A7A\u95F4",-1)),_e=d(()=>e("div",{class:"line"},null,-1)),we={class:"infoItem"},Ce={class:"num"},Le=d(()=>e("span",null,"\u672A\u7528\u7A7A\u95F4",-1)),Ne=d(()=>e("div",{class:"line"},null,-1)),Be={class:"infoItem"},He={class:"num"},Ue=d(()=>e("span",null,"\u8BBE\u5907\u603B\u6570",-1)),Se={key:1},De=V({__name:"index",setup(f){var _,w;const{push:B}=T(),n=m({}),h=m([]);m([]);const I=m([]),g=m("0px"),H=((_=history==null?void 0:history.state)==null?void 0:_.roomId)||1,A=((w=history==null?void 0:history.state)==null?void 0:w.id)||1,v=m(0);return m(!1),(async()=>{const i=await z.getCabinetCapacityInfoItem({id:A});if(n.value=i,i.rackIndexList&&i.rackIndexList.length>0){h.value=i.rackIndexList;const c=[];for(let p=1;p<=i.cabinetHeight;p++)c.push({});i.rackIndexList.forEach(p=>{c.splice(p.uAddress-1,p.uHeight,p)}),I.value=c.reverse(),i.rackIndexList.length<11?g.value="30px":i.rackIndexList.length.length<16?g.value="25px":i.rackIndexList.length.length<21?g.value="20px":i.rackIndexList.length.length<26&&(g.value="15px")}})(),(i,c)=>{const p=E,C=F,u=G,U=J,S=D;return r(),j(S,null,{default:y(()=>[e("div",O,[e("span",null,l(a(n).roomName)+"-"+l(a(n).cabinetName),1),e("span",Q,"\u7A7A\u95F4\u603B\u5BB9\u91CF\uFF1A"+l(a(n).cabinetHeight),1),e("span",R,"\u5DF2\u7528\u7A7A\u95F4\uFF1A"+l(a(n).usedSpace)+"U",1),e("span",X,"\u672A\u7528\u7A7A\u95F4\uFF1A"+l(a(n).freeSpace)+"U",1),e("span",Y,"\u8BBE\u5907\u603B\u6570\uFF1A"+l(a(n).rackNum),1),t(p,{onClick:c[0]||(c[0]=K(s=>{return x=a(A),L=a(H),void B({path:"/cabinet/cab/frameBinding",state:{cabinetId:x,roomId:L}});var x,L},["prevent"])),type:"primary",style:{"margin-left":"auto"}},{default:y(()=>[k("\u7F16\u8F91")]),_:1}),t(p,{onClick:c[1]||(c[1]=s=>{v.value=0}),type:a(v)===0?"primary":""},{default:y(()=>[t(C,{icon:"ep:grid",style:{"margin-right":"8px"}}),k("\u9635\u5217\u6A21\u5F0F")]),_:1},8,["type"]),t(p,{onClick:c[2]||(c[2]=s=>{v.value=1}),type:a(v)===1?"primary":""},{default:y(()=>[t(C,{icon:"ep:expand",style:{"margin-right":"8px"}}),k("\u8868\u683C\u6A21\u5F0F")]),_:1},8,["type"])]),a(v)===0?(r(),o("div",Z,[e("div",ee,[e("div",ae,[(r(!0),o(b,null,N(a(h),s=>(r(),o("div",{key:s.id,class:"device"},[e("div",le,[e("span",null,"\u8BBE\u5907\u540D\u79F0\uFF1A"+l(s.rackName),1),e("span",se,"\u578B\u53F7\uFF1A"+l(s.rackType),1)]),e("div",te,[e("div",null,[e("span",null,"IP\uFF1A"+l(s.ip),1),ne,s.runStatus==0?(r(),o("span",ie,"\u5173\u673A")):(r(),o("span",re," \u5F00\u673A"))]),e("div",null,"\u529F\u7387\uFF1A"+l(s.powActive)+"KW",1),e("div",null,[e("span",null,"\u7535\u6D41\uFF1AA:"+l(s.curValueA)+" B:"+l(s.curValueB),1),e("span",ce,"\u9AD8\u5EA6\uFF1A"+l(s.uHeight),1)])])]))),128))]),e("div",pe,[e("div",oe,[e("div",de,[e("div",ue,[(r(!0),o(b,null,N(a(I),(s,x)=>(r(),o(b,{key:x},[s.uHeight>0?(r(),o("div",{key:0,class:"Uitem active",style:P(`min-height: ${a(g)}`)},l(s.rackName),5)):(r(),o("div",me))],64))),128))])]),ve,e("div",ge,l(a(n).roomName)+"-"+l(a(n).cabinetName),1),e("div",ye,[e("div",fe,[e("span",xe,l(a(n).cabinetHeight),1),he]),ke,e("div",be,[e("span",Ie,l(a(n).usedSpace)+"U",1),Ae]),_e,e("div",we,[e("span",Ce,l(a(n).freeSpace)+"U",1),Le]),Ne,e("div",Be,[e("span",He,l(a(n).rackNum),1),Ue])])])])])])):a(v)===1?(r(),o("div",Se,[t(U,{data:a(h),stripe:!0,"show-overflow-tooltip":!0,border:!0,onCellDblclick:i.toPDUDisplayScreen},{default:y(()=>[t(u,{label:"\u540D\u79F0",align:"center",prop:"rackName"}),t(u,{label:"\u9AD8\u5EA6",align:"center",prop:"uHeight"}),t(u,{label:"\u578B\u53F7",align:"center",prop:"rackType"}),t(u,{label:"\u603B\u529F\u7387",align:"center",prop:"powActiveTotal"}),t(u,{label:"A\u8DEF\u529F\u7387",align:"center",prop:"powActiveA"}),t(u,{label:"B\u8DEF\u529F\u7387",align:"center",prop:"powActiveB"}),t(u,{label:"A\u8DEF\u7535\u6D41",align:"center",prop:"curValueA"}),t(u,{label:"B\u8DEF\u7535\u6D41",align:"center",prop:"curValueB"})]),_:1},8,["data","onCellDblclick"])])):q("",!0)]),_:1})}}}),Ve=M(De,[["__scopeId","data-v-d8476391"]]);export{Ve as default};
