import{r as b,d as z,x as B,e as s,f as D,o as m,n as C,w as i,k as a,a as t,l as d,s as E,j as h,c as V,F as g,p as _,m as G,Z as H,c9 as I,O as J,Q as K,A as L,R as N}from"./index-mcOGIq4g.js";import{_ as P}from"./Dialog.vue_vue_type_style_index_0_lang-BHwm1lq5.js";import{u as W}from"./useMessage-CGTQbR_M.js";const X=async c=>await b.post({url:"/cabinet/tem-color/create",data:c}),Y=async c=>await b.get({url:"/cabinet/tem-color/all",params:c}),$={style:{display:"blcock",width:"100%","margin-left":"-30px"}},ee=h("span",{style:{width:"80px"}},"\u51B7\u901A\u9053\u6E29\u5EA6",-1),le=z({name:"TemColorForm",__name:"TemColorForm",emits:["success"],setup(c,{expose:k,emit:A}){const{t:f}=B(),M=W(),r=s(!1),w=s(""),p=s(!1),F=s(""),n=s({colorArr:[{id:void 0,min:void 0,max:void 0,color:void 0,hotMin:void 0,hotMax:void 0,hotColor:void 0}]}),q=D({min:[{required:!0,message:"\u6E29\u5EA6\u8303\u56F4\u6700\u5C0F\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],max:[{required:!0,message:"\u6E29\u5EA6\u8303\u56F4\u6700\u5927\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],color:[{required:!0,message:"\u6E29\u5EA6\u8303\u56F4\u5BF9\u5E94\u7684\u989C\u8272\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),y=s();k({open:async o=>{r.value=!0,T(),w.value=f("action."+o),F.value=o;var u=await Y({});n.value.colorArr=u}});const j=A,R=async()=>{await y.value.validate(),p.value=!0;try{const o=n.value.colorArr;await X(o),M.success(f("common.createSuccess")),r.value=!1,j("success")}finally{p.value=!1}},T=()=>{var o;n.value={colorArr:[{id:void 0,min:void 0,max:void 0,color:void 0}]},(o=y.value)==null||o.resetFields()};return(o,u)=>{const v=H,x=I,O=J,Q=K,U=L,S=P,Z=N;return m(),C(S,{title:t(w),modelValue:t(r),"onUpdate:modelValue":u[1]||(u[1]=e=>G(r)?r.value=e:null),style:{width:"70%"}},{footer:i(()=>[a(U,{onClick:R,type:"primary",disabled:t(p)},{default:i(()=>[d("\u786E \u5B9A")]),_:1},8,["disabled"]),a(U,{onClick:u[0]||(u[0]=e=>r.value=!1)},{default:i(()=>[d("\u53D6 \u6D88")]),_:1})]),default:i(()=>[E((m(),C(Q,{ref_key:"formRef",ref:y,model:t(n),rules:t(q),"label-width":"50px"},{default:i(()=>[h("div",$,[(m(!0),V(g,null,_(t(n).colorArr,e=>(m(),V("div",{key:e.id,style:{width:"100%"}},[a(O,null,{default:i(()=>[ee,a(v,{style:{width:"15%"},type:"number",modelValue:e.min,"onUpdate:modelValue":l=>e.min=l},null,8,["modelValue","onUpdate:modelValue"]),d("\xB0C~ "),a(v,{style:{width:"15%"},type:"number",modelValue:e.max,"onUpdate:modelValue":l=>e.max=l},null,8,["modelValue","onUpdate:modelValue"]),d("\xB0C \u989C\u8272"),a(x,{modelValue:e.color,"onUpdate:modelValue":l=>e.color=l},null,8,["modelValue","onUpdate:modelValue"]),h("span",null,[(m(!0),V(g,null,_(Array(10),l=>(m(),V("span",{key:l},"\xA0"))),128)),d("\u70ED\u901A\u9053\u6E29\u5EA6")]),a(v,{style:{width:"15%"},type:"number",modelValue:e.hotMin,"onUpdate:modelValue":l=>e.hotMin=l},null,8,["modelValue","onUpdate:modelValue"]),d("\xB0C~ "),a(v,{style:{width:"15%"},type:"number",modelValue:e.hotMax,"onUpdate:modelValue":l=>e.hotMax=l},null,8,["modelValue","onUpdate:modelValue"]),d("\xB0C \u989C\u8272"),a(x,{modelValue:e.hotColor,"onUpdate:modelValue":l=>e.hotColor=l},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))])]),_:1},8,["model","rules"])),[[Z,t(p)]])]),_:1},8,["title","modelValue"])}}});export{le as _};
