import{r as c,d as x,e as m,f as A,o as y,n as v,w as s,k as t,a as e,l as _,s as F,m as U,Z as j,O as C,Q as R,A as q,R as O}from"./index-mcOGIq4g.js";import{_ as Q}from"./Dialog.vue_vue_type_style_index_0_lang-BHwm1lq5.js";import{u as S}from"./useMessage-CGTQbR_M.js";const Z=async()=>await c.get({url:"/system/area/tree"}),z=x({name:"SystemAreaForm",__name:"AreaForm",setup(B,{expose:V}){const b=S(),u=m(!1),d=m(!1),a=m({ip:"",result:void 0}),g=A({ip:[{required:!0,message:"IP \u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),i=m();V({open:async()=>{u.value=!0,I()}});const w=async()=>{if(i&&await i.value.validate()){d.value=!0;try{a.value.result=await(async o=>await c.get({url:"/system/area/get-by-ip?ip="+o}))(a.value.ip.trim()),b.success("\u67E5\u8BE2\u6210\u529F")}finally{d.value=!1}}},I=()=>{var o;a.value={ip:"",result:void 0},(o=i.value)==null||o.resetFields()};return(o,l)=>{const p=j,n=C,P=R,f=q,k=Q,h=O;return y(),v(k,{modelValue:e(u),"onUpdate:modelValue":l[3]||(l[3]=r=>U(u)?u.value=r:null),title:"IP \u67E5\u8BE2"},{footer:s(()=>[t(f,{disabled:e(d),type:"primary",onClick:w},{default:s(()=>[_("\u786E \u5B9A")]),_:1},8,["disabled"]),t(f,{onClick:l[2]||(l[2]=r=>u.value=!1)},{default:s(()=>[_("\u53D6 \u6D88")]),_:1})]),default:s(()=>[F((y(),v(P,{ref_key:"formRef",ref:i,model:e(a),rules:e(g),"label-width":"80px"},{default:s(()=>[t(n,{label:"IP",prop:"ip"},{default:s(()=>[t(p,{modelValue:e(a).ip,"onUpdate:modelValue":l[0]||(l[0]=r=>e(a).ip=r),placeholder:"\u8BF7\u8F93\u5165 IP \u5730\u5740"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u5730\u5740",prop:"result"},{default:s(()=>[t(p,{modelValue:e(a).result,"onUpdate:modelValue":l[1]||(l[1]=r=>e(a).result=r),placeholder:"\u5C55\u793A\u67E5\u8BE2 IP \u7ED3\u679C",readonly:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[h,e(d)]])]),_:1},8,["modelValue"])}}});export{z as _,Z as g};
