import"./index-KYPw-eK3.js";import{d as p,e as m,aj as u,h as d,ao as c,i as v,o as h,c as f,v as y}from"./index-mcOGIq4g.js";import{i as g}from"./installCanvasRenderer-WHaFMoQ9.js";import{_ as S}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./install-DiAPpr4Z.js";const x=S(p({__name:"Bar",props:{max:{type:Object,required:!0},height:{type:[Number,String],default:"300px"},width:{type:[Number,String],default:"300px"}},setup(i){const l=i,o=m(null);let t=null;const a=m([{value:0,name:"A\u76F8\u7535\u6D41",percent:"0%",itemStyle:{color:"#E5B849"}},{value:0,name:"B\u76F8\u7535\u6D41",percent:"0%",itemStyle:{color:"#C8603A"}},{value:0,name:"C\u76F8\u7535\u6D41",percent:"0%",itemStyle:{color:"#AD3762"}}]),n={tooltip:{trigger:"item",formatter:function(e){return`${e.name}: ${e.value} A`}},series:[{name:"Nightingale Chart",type:"pie",radius:[55,120],center:["50%","50%"],roseType:"area",label:{show:!0,position:"inside",formatter:e=>`${e.value}A`,fontSize:14,fontWeight:"bold"},itemStyle:{borderRadius:7},padAngle:1,data:a.value}]},s=e=>{const r=e.L1+e.L2+e.L3;a.value=[{value:e.L1,name:"A\u76F8\u7535\u6D41",percent:(e.L1/r*100).toFixed(2)+"%",itemStyle:{color:"#E5B849"}},{value:e.L2,name:"B\u76F8\u7535\u6D41",percent:(e.L2/r*100).toFixed(2)+"%",itemStyle:{color:"#C8603A"}},{value:e.L3,name:"C\u76F8\u7535\u6D41",percent:(e.L3/r*100).toFixed(2)+"%",itemStyle:{color:"#AD3762"}}],n.series[0].data=a.value};return u(()=>l.max,e=>{s(e),t&&t.setOption({series:[{data:a.value}]})},{deep:!0}),d(()=>{c(()=>{o.value&&(t=g(o.value),s(l.max),t.setOption(n))})}),v(()=>{t&&(t.dispose(),t=null)}),(e,r)=>(h(),f("div",{ref_key:"chartDom",ref:o,style:y({height:i.height,width:i.width})},null,4))}}),[["__scopeId","data-v-428feb1a"]]);export{x as default};
