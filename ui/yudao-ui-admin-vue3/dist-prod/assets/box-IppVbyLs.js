import{d as ma,e as t,an as oa,f as da,aj as We,h as pa,o as m,n as w,w as p,l as ve,j as o,a as u,c as h,t as x,q as _,k as n,m as Xe,s as ca,F as $e,p as ya,aZ as ba,aX as fa,L as ha,M as xa,P as ga,O as _a,_ as Da,A as wa,Q as Aa,D as Ma,G as Ta,R as ka,J as Ya,K as Ca}from"./index-mcOGIq4g.js";import{I as Ha}from"./index-D-gmWooi.js";import"./index-KYPw-eK3.js";import{E as ea}from"./index-CrozypxO.js";import{f as M}from"./formatTime-f-_athMZ.js";import{d as Ba}from"./download--D_IyRio.js";import Ea from"./CommonMenu1-ByFMWMa5.js";import{u as Ia}from"./useMessage-CGTQbR_M.js";import{i as Ee}from"./installCanvasRenderer-WHaFMoQ9.js";import{_ as Na}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./install-DiAPpr4Z.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-BHQCcaX3.js";import"./el-card-FPJq94NZ.js";import"./NavTree-CcS5UKLK.js";const T=W=>(Ya("data-v-ff488247"),W=W(),Ca(),W),Pa=T(()=>o("br",null,null,-1)),Sa=T(()=>o("br",null,null,-1)),Fa={class:"nav_data"},za={style:{"font-size":"14px","text-align":"center"}},La={key:0},Oa=T(()=>o("br",null,null,-1)),Ra={key:1},Va=T(()=>o("br",null,null,-1)),qa={key:0,class:"descriptions-container",style:{"font-size":"14px"}},ja={key:0,class:"description-item"},Ga={class:"label"},Ua={key:1,class:"description-item"},Za=T(()=>o("span",{class:"label"},"\u53D1\u751F\u65F6\u95F4 :",-1)),Ka={class:"value"},Ja={key:2,class:"description-item"},Qa={class:"label"},Wa={key:3,class:"description-item"},Xa=T(()=>o("span",{class:"label"},"\u53D1\u751F\u65F6\u95F4 :",-1)),$a={class:"value"},el={key:4,class:"descriptions-container",style:{"font-size":"14px"}},al={key:0,class:"description-item"},ll={class:"label"},tl={key:1,class:"description-item"},ul=T(()=>o("span",{class:"label"},"\u53D1\u751F\u65F6\u95F4 :",-1)),nl={class:"value"},sl={key:2,class:"description-item"},il={class:"label"},rl={key:3,class:"description-item"},vl=T(()=>o("span",{class:"label"},"\u53D1\u751F\u65F6\u95F4 :",-1)),ml={class:"value"},ol=T(()=>o("div",{class:"line"},null,-1)),dl=T(()=>o("div",{class:"line"},null,-1)),pl={style:{height:"67vh"}},cl=Na(ma({name:"BoxEnvLine",__name:"box",setup(W){var Ue,Ze,Ke;const Ie=Ia(),me=t(!1),f=t("realtimeTabPane"),oe=t("myChart"),de=t([]),L=t(),P=t(),Ne=oa(),pe=t([]),c=t([]),ce=t(0),ye=t(!1),v=da({pageNo:1,pageSize:15,boxId:void 0,granularity:"realtime",devkey:void 0,nowAddress:void 0,timeRange:ie(1)}),aa=[{text:"\u6700\u8FD1\u4E00\u5C0F\u65F6",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-1),[e,l]}},{text:"\u6700\u8FD1\u5341\u4E8C\u5C0F\u65F6",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-12),[e,l]}},{text:"\u6700\u8FD1\u4E00\u5929",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-24),[e,l]}},{text:"\u6700\u8FD1\u4E24\u5929",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-48),[e,l]}}],la=[{text:"\u6700\u8FD1\u4E00\u5929",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-24),[e,l]}},{text:"\u6700\u8FD1\u4E09\u5929",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-72),[e,l]}},{text:"\u6700\u8FD1\u4E03\u5929",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-168),[e,l]}}],ta=[{text:"\u6700\u8FD1\u4E00\u4E2A\u6708",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-720),[e,l]}},{text:"\u6700\u8FD1\u4E09\u4E2A\u6708",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-2160),[e,l]}},{text:"\u6700\u8FD1\u516D\u4E2A\u6708",value:()=>{const l=new Date,e=new Date;return e.setHours(e.getHours()-4320),[e,l]}}],S=t([]),F=t([]),z=t([]),be=t([]),y=t([]),Pe=t([]),X=t([]),fe=t([]),$=t([]),he=t([]),Se=t([]),ee=t([]),xe=t([]),ae=t([]),ge=t([]),Fe=t([]),le=t([]),_e=t([]),te=t([]),De=t([]),ze=t([]),Le=t([]),we=t([]),Oe=t([]),Ae=t([]),O=t(),R=t(),D=t(0),A=t(),H=t(0),B=t(),k=t(0),ue=t(),E=t(0),Me=t(),Y=t(0),ne=t(),I=t(0),Te=t(),C=t(0),se=t(),N=t(0),ke=t(),V=t(!1),q=t(0),j=t(0),G=t(0),U=t(0),Z=t(0),K=t(0),J=t(!1),Ye=async()=>{ye.value=!0;try{if(P==null)return void Ie.warning("\u8BF7\u5148\u9009\u62E9\u8BBE\u5907\uFF01");const l=await ea.getBoxEnvDataDetails(v);l!=null&&l.total!=0?(V.value=!0,J.value=!0,S.value=l.list.map(e=>b(e.tem_a,0)),F.value=l.list.map(e=>b(e.tem_b,0)),z.value=l.list.map(e=>b(e.tem_c,0)),be.value=l.list.map(e=>b(e.tem_n,0)),f.value==="dayExtremumTabPane"?y.value=l.list.map(e=>M(e.create_time,"YYYY-MM-DD")):y.value=l.list.map(e=>M(e.create_time,"YYYY-MM-DD HH:mm")),Pe.value=l.list.map(e=>b(e.tem_a_avg_value,0)),X.value=l.list.map(e=>b(e.tem_a_max_value,0)),fe.value=l.list.map(e=>M(e.tem_a_max_time,"YYYY-MM-DD HH:mm")),$.value=l.list.map(e=>b(e.tem_a_min_value,0)),he.value=l.list.map(e=>M(e.tem_a_min_time,"YYYY-MM-DD HH:mm")),Se.value=l.list.map(e=>b(e.tem_b_avg_value,0)),ee.value=l.list.map(e=>b(e.tem_b_max_value,0)),xe.value=l.list.map(e=>M(e.tem_b_max_time,"YYYY-MM-DD HH:mm")),ae.value=l.list.map(e=>b(e.tem_b_min_value,0)),ge.value=l.list.map(e=>M(e.tem_b_min_time,"YYYY-MM-DD HH:mm")),Fe.value=l.list.map(e=>b(e.tem_c_avg_value,0)),le.value=l.list.map(e=>b(e.tem_c_max_value,0)),_e.value=l.list.map(e=>M(e.tem_c_max_time,"YYYY-MM-DD HH:mm")),te.value=l.list.map(e=>b(e.tem_c_min_value,0)),De.value=l.list.map(e=>M(e.tem_c_min_time,"YYYY-MM-DD HH:mm")),ze.value=l.list.map(e=>b(e.tem_n_avg_value,0)),Le.value=l.list.map(e=>b(e.tem_n_max_value,0)),we.value=l.list.map(e=>M(e.tem_n_max_time,"YYYY-MM-DD HH:mm")),Oe.value=l.list.map(e=>b(e.tem_n_min_value,0)),Ae.value=l.list.map(e=>M(e.tem_n_min_time,"YYYY-MM-DD HH:mm")),f.value=="realtimeTabPane"?(k.value=Math.max(...S.value),E.value=Math.min(...S.value),S.value.forEach(function(e,a){e==k.value&&q.value==0&&(ue.value=y.value[a],q.value=1),e==E.value&&j.value==0&&(Me.value=y.value[a],j.value=1)})):f.value!="realtimeTabPane"&&(k.value=Math.max(...X.value),E.value=Math.min(...$.value),X.value.forEach(function(e,a){e==k.value&&q.value==0&&(ue.value=y.value[a],q.value=1)}),$.value.forEach(function(e,a){e==E.value&&j.value==0&&(Me.value=y.value[a],j.value=1)})),f.value=="realtimeTabPane"?(Y.value=Math.max(...F.value),I.value=Math.min(...F.value),F.value.forEach(function(e,a){e==Y.value&&G.value==0&&(ne.value=y.value[a],G.value=1),e==I.value&&U.value==0&&(Te.value=y.value[a],U.value=1)})):f.value!="realtimeTabPane"&&(Y.value=Math.max(...ee.value),I.value=Math.min(...ae.value),ee.value.forEach(function(e,a){e==Y.value&&G.value==0&&(ne.value=y.value[a],G.value=1)}),ae.value.forEach(function(e,a){e==I.value&&U.value==0&&(Te.value=y.value[a],U.value=1)})),f.value=="realtimeTabPane"?(C.value=Math.max(...z.value),N.value=Math.min(...z.value),z.value.forEach(function(e,a){e==C.value&&Z.value==0&&(se.value=y.value[a],Z.value=1),e==N.value&&K.value==0&&(ke.value=y.value[a],K.value=1)})):f.value!="realtimeTabPane"&&(C.value=Math.max(...le.value),N.value=Math.min(...te.value),le.value.forEach(function(e,a){e==C.value&&Z.value==0&&(se.value=y.value[a],Z.value=1)}),te.value.forEach(function(e,a){e==N.value&&K.value==0&&(ke.value=y.value[a],K.value=1)})),D.value=Math.max(k.value,Y.value,C.value),D.value==k.value&&(A.value=ue.value),D.value==Y.value&&(A.value=ne.value),D.value==C.value&&(A.value=se.value),D.value=Math.max(k.value,Y.value,C.value),H.value=Math.min(E.value,I.value,N.value),D.value==k.value&&(O.value="A\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)",A.value=ue.value),D.value==Y.value&&(O.value="B\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)",A.value=ne.value),D.value==C.value&&(O.value="C\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)",A.value=se.value),H.value==E.value&&(R.value="A\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)",B.value=Me.value),H.value==I.value&&(R.value="B\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)",B.value=Te.value),H.value==N.value&&(R.value="C\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)",B.value=ke.value)):(J.value=!1,V.value=!1,ba({message:"\u6682\u65E0\u6570\u636E",type:"warning"}))}finally{ye.value=!1,q.value=0,j.value=0,G.value=0,U.value=0,Z.value=0,K.value=0}},Ce=t(null);let d=null;const He=()=>{const l=[],e=c&&Array.isArray(c.value)&&c.value[0]&&typeof c.value[0].data=="object"&&Array.isArray(c.value[0].data)?c.value[0].data.length:0;for(let a=0;a<e;a++){const s={};s.create_time=y.value[a],s.aTemMaxTimeData=fe.value[a],s.aTemMinTimeData=he.value[a],s.bTemMaxTimeData=xe.value[a],s.bTemMinTimeData=ge.value[a],s.cTemMaxTimeData=_e.value[a],s.cTemMinTimeData=De.value[a],s.nTemMaxTimeData=we.value[a],s.nTemMinTimeData=Ae.value[a];for(const g of c.value)s[g.name]=g.data[a];l.push(s)}pe.value=l},Re=()=>{d==null||d.dispose()};function Be(l){var e="";return l.forEach(function(a){switch(a.seriesName){case"A\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)":case"B\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)":case"C\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)":case"\u4E2D\u7EBF\u5E73\u5747\u6E29\u5EA6(\u2103)":e+=a.marker+" \u8BB0\u5F55\u65F6\u95F4\uFF1A"+l[0].name+" "+a.seriesName+": "+a.value+"<br/>";break;case"A\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+fe.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"B\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+xe.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"C\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+_e.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"\u4E2D\u7EBF\u6700\u9AD8\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+we.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"A\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+he.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"B\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+ge.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"C\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+De.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"\u4E2D\u7EBF\u6700\u4F4E\u6E29\u5EA6(\u2103)":e+=a.marker+" \u53D1\u751F\u65F6\u95F4\uFF1A"+Ae.value[a.dataIndex]+" "+a.seriesName+": "+a.value+"<br/>";break;case"A\u8DEF\u6E29\u5EA6(\u2103)":case"B\u8DEF\u6E29\u5EA6(\u2103)":case"C\u8DEF\u6E29\u5EA6(\u2103)":case"\u4E2D\u7EBF\u6E29\u5EA6(\u2103)":e+=a.marker+" "+a.seriesName+": "+a.value+"<br/>"}}),l[0].seriesName!="A\u8DEF\u6E29\u5EA6(\u2103)"&&l[0].seriesName!="B\u8DEF\u6E29\u5EA6(\u2103)"&&l[0].seriesName!="C\u8DEF\u6E29\u5EA6(\u2103)"&&l[0].seriesName!="\u4E2D\u7EBF\u6E29\u5EA6(\u2103)"||(e+="\u8BB0\u5F55\u65F6\u95F4:"+l[0].name+"<br/>"),e}function b(l,e){return isNaN(l)?null:Number(l).toFixed(e)}function ie(l){var e=60*new Date().getTimezoneOffset()*1e3,a=new Date(new Date().getTime()-e);return[new Date(a.getTime()-36e5*l).toISOString().slice(0,19).replace("T"," "),a.toISOString().slice(0,19).replace("T"," ")]}window.addEventListener("resize",function(){d==null||d.resize()}),We(()=>f.value,async l=>{l=="realtimeTabPane"?(v.granularity="realtime",v.timeRange=ie(1)):l=="hourExtremumTabPane"?(v.granularity="hour",v.timeRange=ie(24)):(v.granularity="day",v.timeRange=ie(720)),ce.value++}),We(()=>[f.value,ce.value],async l=>{const[e]=l;if(e=="realtimeTabPane"){if(await Ye(),Re(),J.value==1&&(d=Ee(document.getElementById("chartContainer")),d&&d.setOption({title:{text:""},tooltip:{trigger:"axis",formatter:Be},legend:{data:["A\u8DEF\u6E29\u5EA6(\u2103)","B\u8DEF\u6E29\u5EA6(\u2103)","C\u8DEF\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u6E29\u5EA6(\u2103)"],selected:{"A\u8DEF\u6E29\u5EA6(\u2103)":!0,"B\u8DEF\u6E29\u5EA6(\u2103)":!0,"C\u8DEF\u6E29\u5EA6(\u2103)":!0,"\u4E2D\u7EBF\u6E29\u5EA6(\u2103)":!0}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:y.value},yAxis:{type:"value"},series:[{name:"A\u8DEF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:S.value},{name:"B\u8DEF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:F.value},{name:"C\u8DEF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:z.value},{name:"\u4E2D\u7EBF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:be.value}],dataZoom:[{type:"inside"}]})),d)try{const s=d.getOption();s&&Array.isArray(s.series)?c.value=s.series:c.value=[]}catch{c.value=[]}else c.value=[];He()}else{if(await Ye(),Re(),J.value==1&&(d=Ee(document.getElementById("chartContainer")),d&&d.setOption({title:{text:""},tooltip:{trigger:"axis",formatter:Be},legend:{data:["A\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)","A\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)","A\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)","B\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)","B\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)","B\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)","C\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)","C\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)","C\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u5E73\u5747\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u6700\u9AD8\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u6700\u4F4E\u6E29\u5EA6(\u2103)"],selected:{"A\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)":!0,"A\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)":!1," A\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)":!1,"B\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)":!0,"B\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)":!1,"B\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)":!1,"C\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)":!0,"C\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)":!1,"C\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)":!1,"\u4E2D\u7EBF\u5E73\u5747\u6E29\u5EA6(\u2103)":!0,"\u4E2D\u7EBF\u6700\u9AD8\u6E29\u5EA6(\u2103)":!1,"\u4E2D\u7EBF\u6700\u4F4E\u6E29\u5EA6(\u2103)":!1}},grid:{left:"3%",right:"6%",bottom:"3%",containLabel:!0},toolbox:{feature:{restore:{},saveAsImage:{}},top:"5%"},xAxis:[{type:"category",boundaryGap:!1,data:y.value}],yAxis:{type:"value"},series:[{name:"A\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:Pe.value},{name:"A\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:X.value,lineStyle:{type:"dashed"}},{name:"A\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:$.value,lineStyle:{type:"dashed"}},{name:"B\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:Se.value},{name:"B\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:ee.value,lineStyle:{type:"dashed"}},{name:"B\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:ae.value,lineStyle:{type:"dashed"}},{name:"C\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:Fe.value},{name:"C\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:le.value,lineStyle:{type:"dashed"}},{name:"C\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:te.value,lineStyle:{type:"dashed"}},{name:"\u4E2D\u7EBF\u5E73\u5747\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:ze.value},{name:"\u4E2D\u7EBF\u6700\u9AD8\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:Le.value,lineStyle:{type:"dashed"}},{name:"\u4E2D\u7EBF\u6700\u4F4E\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:Oe.value,lineStyle:{type:"dashed"}}],dataZoom:[{type:"inside"}]}),a=d,a==null||a.on("legendselectchanged",function(s){var g={};a==null||a.setOption({legend:{data:["A\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)","A\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)","A\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)","B\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)","B\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)","B\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)","C\u8DEF\u5E73\u5747\u6E29\u5EA6(\u2103)","C\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)","C\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u5E73\u5747\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u6700\u9AD8\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u6700\u4F4E\u6E29\u5EA6(\u2103)"],selected:g}})})),d)try{const s=d.getOption();s&&Array.isArray(s.series)?c.value=s.series:c.value=[]}catch{c.value=[]}else c.value=[];He()}var a});const ua=l=>l>new Date,na=async()=>{try{await Ie.exportConfirm(),v.pageNo=1,v.nowAddress=L.value,me.value=!0;const l={timeout:0},e=await ea.exportBoxTemHistoryData(v,l);await Ba.excel(e,"\u63D2\u63A5\u7BB1\u73AF\u5883\u6570\u636E\u5206\u6790.xlsx")}catch{}finally{me.value=!1}};function re(l){return l?fa(l).format("YYYY-MM-DD HH:mm"):""}const sa=async l=>{if(l.type!=null&&l.type==7){P.value="",D.value=0,H.value=0,k.value=0,E.value=0,Y.value=0,I.value=0,C.value=0,N.value=0,v.devkey=l.unique,Ve(de.value,l.unique,a=>{L.value=a,P.value=l.unique});let e=[];pe.value=e,qe()}};function Ve(l,e,a,s=""){for(let g of l){const Q=s===""?g.name:s+"-"+g.name;g.unique===e&&a(Q),g.children&&g.children.length>0&&Ve(g.children,e,a,Q)}}const qe=()=>{ce.value++},je=t((Ue=history==null?void 0:history.state)==null?void 0:Ue.devKey);t((Ze=history==null?void 0:history.state)==null?void 0:Ze.boxId);const Ge=t((Ke=history==null?void 0:history.state)==null?void 0:Ke.location);return pa(async()=>{(async()=>{const l=await Ha.getBoxMenu();de.value=l})(),v.devkey=je,v.devkey!=null&&(L.value=Ge.value?Ge.value:"\u672A\u7ED1\u5B9A",P.value=je.value,await Ye(),(()=>{if(J.value==1&&Ce.value&&Ne&&(d=Ee(Ce.value),d&&d.setOption({title:{text:""},tooltip:{trigger:"axis",formatter:Be},legend:{data:["A\u8DEF\u6E29\u5EA6(\u2103)","B\u8DEF\u6E29\u5EA6(\u2103)","C\u8DEF\u6E29\u5EA6(\u2103)","\u4E2D\u7EBF\u6E29\u5EA6(\u2103)"],selected:{"A\u8DEF\u6E29\u5EA6(\u2103)":!0,"B\u8DEF\u6E29\u5EA6(\u2103)":!0,"C\u8DEF\u6E29\u5EA6(\u2103)":!0,"\u4E2D\u7EBF\u6E29\u5EA6(\u2103)":!0}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:y.value},yAxis:{type:"value"},series:[{name:"A\u8DEF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:S.value},{name:"B\u8DEF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:F.value},{name:"C\u8DEF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:z.value},{name:"\u4E2D\u7EBF\u6E29\u5EA6(\u2103)",type:"line",symbol:"none",data:be.value}],dataZoom:[{type:"inside"}]}),Ne.appContext.config.globalProperties.realtimeChart=d),d)try{const l=d.getOption();l&&Array.isArray(l.series)?c.value=l.series:c.value=[]}catch{c.value=[]}else c.value=[];He()})())}),(l,e)=>{const a=ha,s=xa,g=ga,Q=_a,Je=Da,Qe=wa,ia=Aa,i=Ma,ra=Ta,va=ka;return m(),w(Ea,{dataList:u(de),onNodeClick:sa,navTitle:"\u63D2\u63A5\u7BB1\u6E29\u5EA6\u5206\u6790",showCheckbox:!1,placeholder:"\u5982:192.168.1.96-0"},{NavInfo:p(()=>[Pa,ve(),Sa,o("div",Fa,[o("div",za,[u(L)?(m(),h("span",La,x(u(L)),1)):_("",!0),Oa,u(P)?(m(),h("span",Ra,"( "+x(u(P))+" ) ",1)):_("",!0)]),Va,u(V)?(m(),h("div",qa,[u(v).granularity!="day"?(m(),h("div",ja,[o("span",Ga,x(u(O))+" :",1),o("span",null,x(u(D)),1)])):_("",!0),u(A)&&u(v).granularity!="day"?(m(),h("div",Ua,[Za,o("span",Ka,x(re(u(A))),1)])):_("",!0),u(v).granularity!="day"?(m(),h("div",Ja,[o("span",Qa,x(u(R))+" :",1),o("span",null,x(u(H)),1)])):_("",!0),u(B)&&u(v).granularity!="day"?(m(),h("div",Wa,[Xa,o("span",$a,x(re(u(B))),1)])):_("",!0),u(V)?(m(),h("div",el,[u(v).granularity=="day"?(m(),h("div",al,[o("span",ll,x(u(O))+" :",1),o("span",null,x(u(D)),1)])):_("",!0),u(A)&&u(v).granularity=="day"?(m(),h("div",tl,[ul,o("span",nl,x(re(u(A))),1)])):_("",!0),u(v).granularity=="day"?(m(),h("div",sl,[o("span",il,x(u(R))+" :",1),o("span",null,x(u(H)),1)])):_("",!0),u(B)&&u(v).granularity=="day"?(m(),h("div",rl,[vl,o("span",ml,x(re(u(B))),1)])):_("",!0),ol])):_("",!0),dl])):_("",!0)])]),ActionBar:p(()=>[n(s,{modelValue:u(f),"onUpdate:modelValue":e[0]||(e[0]=r=>Xe(f)?f.value=r:null)},{default:p(()=>[n(a,{label:"\u539F\u59CB\u6570\u636E",name:"realtimeTabPane"}),n(a,{label:"\u5C0F\u65F6\u6781\u503C\u6570\u636E",name:"hourExtremumTabPane"}),n(a,{label:"\u5929\u6781\u503C\u6570\u636E",name:"dayExtremumTabPane"})]),_:1},8,["modelValue"]),n(ia,{class:"-mb-5px",model:u(v),ref:"queryFormRef",inline:!0,"label-width":"70px"},{default:p(()=>[n(Q,{label:"\u65F6\u95F4\u6BB5",prop:"timeRange"},{default:p(()=>[n(g,{"value-format":"YYYY-MM-DD HH:mm:ss",modelValue:u(v).timeRange,"onUpdate:modelValue":e[1]||(e[1]=r=>u(v).timeRange=r),type:"datetimerange",shortcuts:u(f)==="realtimeTabPane"?aa:u(f)==="hourExtremumTabPane"?la:u(f)==="dayExtremumTabPane"?ta:[],"range-separator":"-","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4","disabled-date":ua,class:"!w-350px"},null,8,["modelValue","shortcuts"])]),_:1}),n(Q,null,{default:p(()=>[n(Qe,{onClick:qe},{default:p(()=>[n(Je,{icon:"ep:search",class:"mr-5px"}),ve(" \u641C\u7D22")]),_:1}),n(Qe,{type:"success",plain:"",onClick:na,loading:u(me)},{default:p(()=>[n(Je,{icon:"ep:download",class:"mr-5px"}),ve(" \u5BFC\u51FA ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),Content:p(()=>[ca((m(),h("div",null,[u(V)?(m(),w(s,{key:0,modelValue:u(oe),"onUpdate:modelValue":e[2]||(e[2]=r=>Xe(oe)?oe.value=r:null)},{default:p(()=>[n(a,{label:"\u56FE\u8868",name:"myChart"},{default:p(()=>[o("div",{ref_key:"chartContainer",ref:Ce,id:"chartContainer",style:{width:"75vw",height:"65vh"}},null,512)]),_:1}),n(a,{label:"\u6570\u636E",name:"myData"},{default:p(()=>[o("div",pl,[n(ra,{stripe:!0,border:!0,data:u(pe),style:{height:"100%",width:"99.97%"},"header-cell-style":{backgroundColor:"#F5F7FA",color:"#909399",textAlign:"center",borderLeft:"1px #EDEEF2 solid",fontSize:"14px",borderBottom:"1px #EDEEF2 solid",fontWeight:"bold"},"cell-style":{color:"#606266",fontSize:"14px",textAlign:"center",borderBottom:"0.25px #F5F7FA solid",borderLeft:"0.25px #F5F7FA solid"},"row-style":{fontSize:"14px",textAlign:"center"},"empty-text":"\u6682\u65E0\u6570\u636E","max-height":"818"},{default:p(()=>[n(i,{label:"\u5E8F\u53F7",align:"center",width:"100%"},{default:p(({$index:r})=>[ve(x(r+1+(u(v).pageNo-1)*u(v).pageSize),1)]),_:1}),n(i,{prop:"create_time",label:"\u8BB0\u5F55\u65F6\u95F4"}),(m(!0),h($e,null,ya(u(c),r=>(m(),h($e,{key:r.name},[r.name==="A\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:0,label:"A\u8DEF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"A\u8DEF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"aTemMaxTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):r.name==="A\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:1,label:"A\u8DEF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"A\u8DEF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"aTemMinTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):r.name==="B\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:2,label:"B\u8DEF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"B\u8DEF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"bTemMaxTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):r.name==="B\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:3,label:"B\u8DEF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"B\u8DEF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"bTemMinTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):r.name==="C\u8DEF\u6700\u9AD8\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:4,label:"C\u8DEF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"C\u8DEF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"cTemMaxTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):r.name==="C\u8DEF\u6700\u4F4E\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:5,label:"C\u8DEF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"C\u8DEF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"cTemMinTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):r.name==="\u4E2D\u7EBF\u6700\u9AD8\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:6,label:"\u4E2D\u7EBF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"\u4E2D\u7EBF\u6E29\u5EA6\u6700\u9AD8\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"nTemMaxTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):r.name==="\u4E2D\u7EBF\u6700\u4F4E\u6E29\u5EA6(\u2103)"?(m(),w(i,{key:7,label:"\u4E2D\u7EBF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)"},{default:p(()=>[n(i,{prop:r.name,label:"\u4E2D\u7EBF\u6E29\u5EA6\u6700\u4F4E\u503C(\u2103)",width:"110%"},null,8,["prop"]),n(i,{prop:"nTemMinTimeData",label:"\u53D1\u751F\u65F6\u95F4",width:"110%"})]),_:2},1024)):(m(),w(i,{key:8,prop:r.name,label:r.name,width:"110%"},null,8,["prop","label"]))],64))),128))]),_:1},8,["data"])])]),_:1})]),_:1},8,["modelValue"])):_("",!0)])),[[va,u(ye)]])]),_:1},8,["dataList"])}}}),[["__scopeId","data-v-ff488247"]]);export{cl as default};
