import{aB as me,aG as Y,cS as ge,b0 as M,d as P,e as F,bk as I,g as E,bq as N,cM as be,ai as A,a as T,aj as ee,cD as we,aD as $,cT as _,bZ as h,o as x,n as O,w as g,k as C,b5 as he,b$ as ye,cU as ne,bK as G,ao as Ie,A as oe,bv as Ee,cV as Fe,aR as Ce,cW as Re,a$ as te,bO as ke,cX as Te,an as le,aC as W,bj as _e,b7 as Se,cY as xe,b2 as Be,bc as $e,c as j,aY as De,aT as H,a0 as q,q as J,cZ as re,c_ as Ke,c$ as Me,j as Pe,as as Ge,ax as V,F as Le,d0 as ae,d1 as Oe,d2 as ie,d3 as ze,d4 as Ae,d5 as He,v as Ne,d6 as je,d7 as Ue,aN as Ye,b6 as se}from"./index-mcOGIq4g.js";const We=me({style:{type:Y([String,Array,Object])},currentTabId:{type:Y(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Y(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:qe,ElCollectionItem:Je,COLLECTION_INJECTION_KEY:Z,COLLECTION_ITEM_INJECTION_KEY:Ve}=ge("RovingFocusGroup"),X=Symbol("elRovingFocusGroup"),de=Symbol("elRovingFocusGroupItem"),Ze={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Q=e=>{const{activeElement:o}=document;for(const c of e)if(c===o||(c.focus(),o!==document.activeElement))return},ue="currentTabIdChange",ce="rovingFocusGroup.entryFocus",Xe={bubbles:!1,cancelable:!0},Qe=P({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:We,emits:[ue,"entryFocus"],setup(e,{emit:o}){var c;const s=F((c=e.currentTabId||e.defaultCurrentTabId)!=null?c:null),p=F(!1),u=F(!1),a=F(null),{getItems:r}=I(Z,void 0),v=E(()=>[{outline:"none"},e.style]),b=_(l=>{var i;(i=e.onMousedown)==null||i.call(e,l)},()=>{u.value=!0}),w=_(l=>{var i;(i=e.onFocus)==null||i.call(e,l)},l=>{const i=!T(u),{target:f,currentTarget:y}=l;if(f===y&&i&&!T(p)){const D=new Event(ce,Xe);if(y==null||y.dispatchEvent(D),!D.defaultPrevented){const R=r().filter(m=>m.focusable),S=[R.find(m=>m.active),R.find(m=>m.id===T(s)),...R].filter(Boolean).map(m=>m.ref);Q(S)}}u.value=!1}),t=_(l=>{var i;(i=e.onBlur)==null||i.call(e,l)},()=>{p.value=!1});N(X,{currentTabbedId:be(s),loop:A(e,"loop"),tabIndex:E(()=>T(p)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:v,orientation:A(e,"orientation"),dir:A(e,"dir"),onItemFocus:l=>{o(ue,l)},onItemShiftTab:()=>{p.value=!0},onBlur:t,onFocus:w,onMousedown:b}),ee(()=>e.currentTabId,l=>{s.value=l??null}),we(a,ce,(...l)=>{o("entryFocus",...l)})}});var en=M(P({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:qe,ElRovingFocusGroupImpl:M(Qe,[["render",function(e,o,c,s,p,u){return $(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,o,c,s,p,u){const a=h("el-roving-focus-group-impl"),r=h("el-focus-group-collection");return x(),O(r,null,{default:g(()=>[C(a,he(ye(e.$attrs)),{default:g(()=>[$(e.$slots,"default")]),_:3},16)]),_:3})}],["__file","roving-focus-group.vue"]]),nn=M(P({components:{ElRovingFocusCollectionItem:Je},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:c,loop:s,onItemFocus:p,onItemShiftTab:u}=I(X,void 0),{getItems:a}=I(Z,void 0),r=ne(),v=F(null),b=_(i=>{o("mousedown",i)},i=>{e.focusable?p(T(r)):i.preventDefault()}),w=_(i=>{o("focus",i)},()=>{p(T(r))}),t=_(i=>{o("keydown",i)},i=>{const{key:f,shiftKey:y,target:D,currentTarget:R}=i;if(f===G.tab&&y)return void u();if(D!==R)return;const S=(n=>{const d=n.key;return Ze[d]})(i);if(S){i.preventDefault();let n=a().filter(d=>d.focusable).map(d=>d.ref);switch(S){case"last":n.reverse();break;case"prev":case"next":{S==="prev"&&n.reverse();const d=n.indexOf(R);n=s.value?(B=d+1,(m=n).map((k,K)=>m[(K+B)%m.length])):n.slice(d+1);break}}Ie(()=>{Q(n)})}var m,B}),l=E(()=>c.value===T(r));return N(de,{rovingFocusGroupItemRef:v,tabIndex:E(()=>T(l)?0:-1),handleMousedown:b,handleFocus:w,handleKeydown:t}),{id:r,handleKeydown:t,handleFocus:w,handleMousedown:b}}}),[["render",function(e,o,c,s,p,u){const a=h("el-roving-focus-collection-item");return x(),O(a,{id:e.id,focusable:e.focusable,active:e.active},{default:g(()=>[$(e.$slots,"default")]),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const U=Symbol("elDropdown"),{ButtonGroup:on}=oe;var tn=M(P({name:"ElDropdown",components:{ElButton:oe,ElButtonGroup:on,ElScrollbar:Ee,ElDropdownCollection:Fe,ElTooltip:Ce,ElRovingFocusGroup:en,ElOnlyChild:Re,ElIcon:te,ArrowDown:ke},props:Te,emits:["visible-change","click","command"],setup(e,{emit:o}){const c=le(),s=W("dropdown"),{t:p}=_e(),u=F(),a=F(),r=F(null),v=F(null),b=F(null),w=F(null),t=F(!1),l=[G.enter,G.space,G.down],i=E(()=>({maxHeight:Se(e.maxHeight)})),f=E(()=>[s.m(m.value)]),y=E(()=>xe(e.trigger)),D=ne().value,R=E(()=>e.id||D);function S(){var n;(n=r.value)==null||n.onClose()}ee([u,y],([n,d],[k])=>{var K,z,L;(K=k==null?void 0:k.$el)!=null&&K.removeEventListener&&k.$el.removeEventListener("pointerenter",B),(z=n==null?void 0:n.$el)!=null&&z.removeEventListener&&n.$el.removeEventListener("pointerenter",B),(L=n==null?void 0:n.$el)!=null&&L.addEventListener&&d.includes("hover")&&n.$el.addEventListener("pointerenter",B)},{immediate:!0}),Be(()=>{var n,d;(d=(n=u.value)==null?void 0:n.$el)!=null&&d.removeEventListener&&u.value.$el.removeEventListener("pointerenter",B)});const m=$e();function B(){var n,d;(d=(n=u.value)==null?void 0:n.$el)==null||d.focus()}return N(U,{contentRef:v,role:E(()=>e.role),triggerId:R,isUsingKeyboard:t,onItemEnter:function(){},onItemLeave:function(){const n=T(v);y.value.includes("hover")&&(n==null||n.focus()),w.value=null}}),N("elDropdown",{instance:c,dropdownSize:m,handleClick:function(){S()},commandHandler:function(...n){o("command",...n)},trigger:A(e,"trigger"),hideOnClick:A(e,"hideOnClick")}),{t:p,ns:s,scrollbar:b,wrapStyle:i,dropdownTriggerKls:f,dropdownSize:m,triggerId:R,triggerKeys:l,currentTabId:w,handleCurrentTabIdChange:function(n){w.value=n},handlerMainButtonClick:n=>{o("click",n)},handleEntryFocus:function(n){t.value||(n.preventDefault(),n.stopImmediatePropagation())},handleClose:S,handleOpen:function(){var n;(n=r.value)==null||n.onOpen()},handleBeforeShowTooltip:function(){o("visible-change",!0)},handleShowTooltip:function(n){(n==null?void 0:n.type)==="keydown"&&v.value.focus()},handleBeforeHideTooltip:function(){o("visible-change",!1)},onFocusAfterTrapped:n=>{var d,k;n.preventDefault(),(k=(d=v.value)==null?void 0:d.focus)==null||k.call(d,{preventScroll:!0})},popperRef:r,contentRef:v,triggeringElementRef:u,referenceElementRef:a}}}),[["render",function(e,o,c,s,p,u){var a;const r=h("el-dropdown-collection"),v=h("el-roving-focus-group"),b=h("el-scrollbar"),w=h("el-only-child"),t=h("el-tooltip"),l=h("el-button"),i=h("arrow-down"),f=h("el-icon"),y=h("el-button-group");return x(),j("div",{class:q([e.ns.b(),e.ns.is("disabled",e.disabled)])},[C(t,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},De({content:g(()=>[C(b,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:g(()=>[C(v,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:g(()=>[C(r,null,{default:g(()=>[$(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:g(()=>[C(w,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:g(()=>[$(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(x(),O(y,{key:0},{default:g(()=>[C(l,H({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:g(()=>[$(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),C(l,H({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:g(()=>[C(f,{class:q(e.ns.e("icon"))},{default:g(()=>[C(i)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):J("v-if",!0)],2)}],["__file","dropdown.vue"]]);const ln=P({name:"DropdownItemImpl",components:{ElIcon:te},props:re,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const c=W("dropdown"),{role:s}=I(U,void 0),{collectionItemRef:p}=I(Ke,void 0),{collectionItemRef:u}=I(Ve,void 0),{rovingFocusGroupItemRef:a,tabIndex:r,handleFocus:v,handleKeydown:b,handleMousedown:w}=I(de,void 0),t=ae(p,u,a),l=E(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),i=_(f=>{const{code:y}=f;if(y===G.enter||y===G.space)return f.preventDefault(),f.stopImmediatePropagation(),o("clickimpl",f),!0},b);return{ns:c,itemRef:t,dataset:{[Me]:""},role:l,tabIndex:r,handleFocus:v,handleKeydown:i,handleMousedown:w}}}),rn=["aria-disabled","tabindex","role"],pe=()=>{const e=I("elDropdown",{}),o=E(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}};var ve=M(P({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Oe,ElRovingFocusItem:nn,ElDropdownItemImpl:M(ln,[["render",function(e,o,c,s,p,u){const a=h("el-icon");return x(),j(Le,null,[e.divided?(x(),j("li",H({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):J("v-if",!0),Pe("li",H({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=r=>e.$emit("clickimpl",r)),onFocus:o[1]||(o[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onKeydown:o[2]||(o[2]=V((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:o[3]||(o[3]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),onPointermove:o[4]||(o[4]=r=>e.$emit("pointermove",r)),onPointerleave:o[5]||(o[5]=r=>e.$emit("pointerleave",r))}),[e.icon?(x(),O(a,{key:0},{default:g(()=>[(x(),O(Ge(e.icon)))]),_:1})):J("v-if",!0),$(e.$slots,"default")],16,rn)],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:re,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:c}){const{elDropdown:s}=pe(),p=le(),u=F(null),a=E(()=>{var t,l;return(l=(t=T(u))==null?void 0:t.textContent)!=null?l:""}),{onItemEnter:r,onItemLeave:v}=I(U,void 0),b=_(t=>(o("pointermove",t),t.defaultPrevented),ie(t=>{if(e.disabled)return void v(t);const l=t.currentTarget;l===document.activeElement||l.contains(document.activeElement)||(r(t),t.defaultPrevented||l==null||l.focus())})),w=_(t=>(o("pointerleave",t),t.defaultPrevented),ie(t=>{v(t)}));return{handleClick:_(t=>{if(!e.disabled)return o("click",t),t.type!=="keydown"&&t.defaultPrevented},t=>{var l,i,f;e.disabled?t.stopImmediatePropagation():((l=s==null?void 0:s.hideOnClick)!=null&&l.value&&((i=s.handleClick)==null||i.call(s)),(f=s.commandHandler)==null||f.call(s,e.command,p,t))}),handlePointerMove:b,handlePointerLeave:w,textContent:a,propsAndAttrs:E(()=>({...e,...c}))}}}),[["render",function(e,o,c,s,p,u){var a;const r=h("el-dropdown-item-impl"),v=h("el-roving-focus-item"),b=h("el-dropdown-collection-item");return x(),O(b,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:g(()=>[C(v,{focusable:!e.disabled},{default:g(()=>[C(r,H(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:g(()=>[$(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);const an=P({name:"ElDropdownMenu",props:ze,setup(e){const o=W("dropdown"),{_elDropdownSize:c}=pe(),s=c.value,{focusTrapRef:p,onKeydown:u}=I(Ae,void 0),{contentRef:a,role:r,triggerId:v}=I(U,void 0),{collectionRef:b,getItems:w}=I(He,void 0),{rovingFocusGroupRef:t,rovingFocusGroupRootStyle:l,tabIndex:i,onBlur:f,onFocus:y,onMousedown:D}=I(X,void 0),{collectionRef:R}=I(Z,void 0),S=E(()=>[o.b("menu"),o.bm("menu",s==null?void 0:s.value)]),m=ae(a,b,p,t,R),B=_(n=>{var d;(d=e.onKeydown)==null||d.call(e,n)},n=>{const{currentTarget:d,code:k,target:K}=n;if(d.contains(K),G.tab===k&&n.stopImmediatePropagation(),n.preventDefault(),K!==T(a)||!je.includes(k))return;const z=w().filter(L=>!L.disabled).map(L=>L.ref);Ue.includes(k)&&z.reverse(),Q(z)});return{size:s,rovingFocusGroupRootStyle:l,tabIndex:i,dropdownKls:S,role:r,triggerId:v,dropdownListWrapperRef:m,handleKeydown:n=>{B(n),u(n)},onBlur:f,onFocus:y,onMousedown:D}}}),sn=["role","aria-labelledby"];var fe=M(an,[["render",function(e,o,c,s,p,u){return x(),j("ul",{ref:e.dropdownListWrapperRef,class:q(e.dropdownKls),style:Ne(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...a)=>e.onBlur&&e.onBlur(...a)),onFocus:o[1]||(o[1]=(...a)=>e.onFocus&&e.onFocus(...a)),onKeydown:o[2]||(o[2]=V((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:o[3]||(o[3]=V((...a)=>e.onMousedown&&e.onMousedown(...a),["self"]))},[$(e.$slots,"default")],46,sn)}],["__file","dropdown-menu.vue"]]);const dn=Ye(tn,{DropdownItem:ve,DropdownMenu:fe}),un=se(ve),cn=se(fe);export{un as E,cn as a,dn as b};
