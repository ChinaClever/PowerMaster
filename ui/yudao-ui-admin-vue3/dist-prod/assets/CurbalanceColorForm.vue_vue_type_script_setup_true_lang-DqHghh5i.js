import{r as b,d as $,x as j,e as v,f as A,o as V,n as _,w as s,k as t,a as r,l as c,s as D,m as P,j as h,Z as Q,O as Z,Q as z,A as G,R as H}from"./index-mcOGIq4g.js";import{_ as I}from"./Dialog.vue_vue_type_style_index_0_lang-BHwm1lq5.js";import{u as J}from"./useMessage-CGTQbR_M.js";const y={getBoxCurbalanceColorPage:async l=>await b.get({url:"/bus/box-curbalance-color/page",params:l}),getBoxCurbalanceColor:async()=>await b.get({url:"/bus/box-curbalance-color/get"}),createBoxCurbalanceColor:async l=>await b.post({url:"/bus/box-curbalance-color/create",data:l}),updateBoxCurbalanceColor:async l=>await b.put({url:"/bus/box-curbalance-color/update",data:l}),deleteBoxCurbalanceColor:async l=>await b.delete({url:"/bus/box-curbalance-color/delete?id="+l}),exportBoxCurbalanceColor:async l=>await b.download({url:"/bus/box-curbalance-color/export-excel",params:l})},K=h("div",{style:{"background-color":"#3bbb00","margin-right":"20px"}},"\u7EFF\u8272\u7684\u8303\u56F4",-1),L=h("div",{style:{"background-color":"#ffc402","margin-right":"20px"}},"\u9EC4\u8272\u7684\u8303\u56F4",-1),M=h("div",{style:{"background-color":"#fa3333","margin-right":"20px"}},"\u7EA2\u8272\u7684\u8303\u56F4",-1),N=$({name:"CurbalanceColorForm",__name:"CurbalanceColorForm",emits:["success"],setup(l,{expose:B,emit:O}){const{t:f}=j(),T=J(),g=v(!1),F=v(""),p=v(!1),x=v(""),e=v({id:void 0,rangeOne:void 0,rangeTwo:void 0,rangeThree:void 0,rangeFour:void 0}),m=(o,a,d)=>{if(e.value.rangeOne&&e.value.rangeTwo&&e.value.rangeThree&&e.value.rangeFour){const i=[parseFloat(e.value.rangeOne),parseFloat(e.value.rangeTwo),parseFloat(e.value.rangeThree),parseFloat(e.value.rangeFour)],w=["\u7B2C\u4E00\u7A7A","\u7B2C\u4E8C\u7A7A","\u7B2C\u4E09\u7A7A","\u7B2C\u56DB\u7A7A"];for(let n=0;n<i.length-1;n++)if(i[n]>=i[n+1])return d(new Error(`${w[n]} \u5FC5\u987B\u5C0F\u4E8E ${w[n+1]}`));d()}else d(new Error("\u8BF7\u586B\u5199\u6240\u6709\u8303\u56F4"))},k=A({rangeOne:[{validator:m,required:!0,trigger:"blur"}],rangeTwo:[{validator:m,required:!0,trigger:"blur"}],rangeThree:[{validator:m,required:!0,trigger:"blur"}],rangeFour:[{validator:m,required:!0,trigger:"blur"}]}),C=v();B({open:async o=>{g.value=!0,F.value=f("action."+o),x.value=o,E(),p.value=!0;try{var a=await y.getBoxCurbalanceColor();a!=null&&(e.value=a,x.value="update"),e.value}finally{p.value=!1}}});const U=O,q=async()=>{await C.value.validate(),p.value=!0;try{const o=e.value;x.value==="create"?(await y.createBoxCurbalanceColor(o),T.success(f("common.createSuccess"))):(await y.updateBoxCurbalanceColor(o),T.success(f("common.updateSuccess"))),g.value=!1,U("success",e.value)}finally{p.value=!1}},E=()=>{var o;e.value={id:void 0,rangeOne:void 0,rangeTwo:void 0,rangeThree:void 0,rangeFour:void 0},(o=C.value)==null||o.resetFields()};return(o,a)=>{const d=Q,i=Z,w=z,n=G,R=I,S=H;return V(),_(R,{title:r(F),modelValue:r(g),"onUpdate:modelValue":a[5]||(a[5]=u=>P(g)?g.value=u:null)},{footer:s(()=>[t(n,{onClick:q,type:"primary",disabled:r(p)},{default:s(()=>[c("\u786E \u5B9A")]),_:1},8,["disabled"]),t(n,{onClick:a[4]||(a[4]=u=>g.value=!1)},{default:s(()=>[c("\u53D6 \u6D88")]),_:1})]),default:s(()=>[D((V(),_(w,{ref_key:"formRef",ref:C,model:r(e),rules:r(k),"label-width":"100px"},{default:s(()=>[t(i,{prop:"rangeOne"},{default:s(()=>[K,c(" \u5C0F\u4E8E"),t(d,{style:{width:"11.3%"},type:"number",modelValue:r(e).rangeOne,"onUpdate:modelValue":a[0]||(a[0]=u=>r(e).rangeOne=u),placeholder:"\u8BF7\u8F93\u5165\u7B2C\u4E00\u4E2A\u5C0F\u4E8E\u7684\u8303\u56F4"},null,8,["modelValue"]),c("% ")]),_:1}),t(i,{prop:"rangeTwo"},{default:s(()=>[L,t(d,{style:{width:"11.3%"},type:"number",modelValue:r(e).rangeTwo,"onUpdate:modelValue":a[1]||(a[1]=u=>r(e).rangeTwo=u),placeholder:"\u8BF7\u8F93\u5165\u7B2C\u4E8C\u4E2A\u8303\u56F4\u7684\u6700\u5C0F\u503C"},null,8,["modelValue"]),c("%- "),t(d,{style:{width:"11.3%"},type:"number",modelValue:r(e).rangeThree,"onUpdate:modelValue":a[2]||(a[2]=u=>r(e).rangeThree=u),placeholder:"\u8BF7\u8F93\u5165\u7B2C\u4E8C\u4E2A\u8303\u56F4\u7684\u6700\u5927\u503C"},null,8,["modelValue"]),c("% ")]),_:1}),t(i,{prop:"rangeFour"},{default:s(()=>[M,c(" \u5927\u4E8E"),t(d,{style:{width:"11.3%"},type:"number",modelValue:r(e).rangeFour,"onUpdate:modelValue":a[3]||(a[3]=u=>r(e).rangeFour=u),placeholder:"\u8BF7\u8F93\u5165\u7B2C\u4E09\u4E2A\u5927\u4E8E\u7684\u8303\u56F4"},null,8,["modelValue"]),c("% ")]),_:1})]),_:1},8,["model","rules"])),[[S,r(p)]])]),_:1},8,["title","modelValue"])}}});export{y as B,N as _};
