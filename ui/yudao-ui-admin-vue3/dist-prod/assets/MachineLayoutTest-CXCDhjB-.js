import{d as M,f as i,e as T,h as F,i as N,o as n,n as g,w,j as t,c as s,F as v,p,a as l,t as f,ax as B,q as _,v as j,J as q,K as H}from"./index-mcOGIq4g.js";import{E as I}from"./el-card-FPJq94NZ.js";import{d as J}from"./vuedraggable.umd-DnsY9z5D.js";import{_ as S}from"./_plugin-vue_export-helper-BCo6x5W8.js";const X={class:"machineContainer"},Y={class:"machineTable"},z={class:"tHead"},G=(c=>(q("data-v-7baa271f"),c=c(),H(),c))(()=>t("div",{class:"th"},null,-1)),O={class:"tBody"},P={class:"order"},Q={key:0,class:"content"},R=S(M({__name:"MachineLayoutTest",setup(c){const u=i(["A","B","C","D"]),k=i([1,2,3,4]),A={name:"MachineFill",pull:!0,put:!1},x={name:"MachineBlank",pull:!1,put:!0},e=T({left:"0px",top:"0px",show:!1,location:[]}),h=i({A:[[],[{id:1,name:"A2"}],[{id:2,name:"A3"}],[{id:3,name:"A4"}]],B:[[{id:0,name:"B1"}],[{id:1,name:"B2"}],[{id:2,name:"B3"}],[]],C:[[{id:1,name:"C1"}],[{id:2,name:"C2"}],[],[{id:3,name:"C3"}]],D:[[],[],[{id:2,name:"D3"}],[{id:3,name:"D4"}]]});i([]),i([[],[{id:1,name:"A2"}],[{id:2,name:"A3"}],[{id:3,name:"A4"}]]),i([[{id:0,name:"B1"}],[{id:1,name:"B2"}],[{id:2,name:"B3"}],[]]),i([[{id:1,name:"C1"}],[{id:2,name:"C2"}],[],[{id:3,name:"C3"}]]),i([[],[],[{id:2,name:"D3"}],[{id:3,name:"D4"}]]);const D=()=>{const a=u[e.value.location[0]];h[a][e.value.location[1]].push({id:"888",name:"test"}),e.value.show=!1},E=()=>{const a=u[e.value.location[0]];h[a][e.value.location[1]].pop(),e.value.show=!1},b=a=>{a.preventDefault();const r=a.target.id?a.target.id:a.target.parentNode.id;e.value={left:a.layerX+"px",top:a.layerY+"px",show:!0,location:r.split("-")}},$=a=>{},K=a=>{};return F(()=>{document.addEventListener("mousedown",a=>{const r=a.target;a.button==0&&e.value.show&&r.className!="menu_item"&&(e.value.show=!1)})}),N(()=>{document.removeEventListener("mousedown",()=>{})}),(a,r)=>{const L=I;return n(),g(L,null,{default:w(()=>[t("div",X,[t("div",Y,[t("div",z,[G,(n(!0),s(v,null,p(l(u),(d,o)=>(n(),s("div",{class:"th",key:o},f(d),1))),128))]),t("div",O,[t("div",P,[(n(!0),s(v,null,p(l(k),(d,o)=>(n(),s("div",{class:"to",key:o},f(d),1))),128))]),t("div",{class:"colContainer",onContextmenu:B(b,["right"])},[(n(!0),s(v,null,p(l(u),(d,o)=>(n(),s("div",{class:"col",key:o},[(n(!0),s(v,null,p(l(h)[d],(y,C)=>(n(),g(l(J),{key:C,id:`${o}-${C}`,class:"dragTd",list:y,itemKey:m=>m.id,tag:"div",group:y.length>0?A:x,animation:"100",onStart:$,onEnd:B(K,["prevent"])},{item:w(({element:m})=>[m&&m.name?(n(),s("div",Q,f(m.name),1)):_("",!0)]),_:2},1032,["id","list","itemKey","group"]))),128))]))),128)),l(e).show?(n(),s("div",{key:0,class:"menu",style:j({left:`${l(e).left}`,top:`${l(e).top}`})},[t("div",{class:"menu_item",onClick:D},"\u65B0\u589E"),t("div",{class:"menu_item",onClick:E},"\u5220\u9664")],4)):_("",!0)],32)])])])]),_:1})}}}),[["__scopeId","data-v-7baa271f"]]);export{R as default};
