import{d as k,e as o,aj as v,h as y,o as x,c as _,j as d,k as t,w,a as l,m as V,dd as b,F as g,_ as j,Z as D}from"./index-mcOGIq4g.js";import{a as T}from"./index-DaJ-UTR5.js";import{d as U,h as C}from"./tree-Cts6wVCK.js";const F={class:"head-container"},N={class:"head-container"},R=k({name:"SystemUserDeptTree",__name:"DeptTree",emits:["node-click"],setup(S,{emit:c}){const a=o(""),n=o([]),r=o(),i=(e,s)=>!e||s.name.includes(e),p=async e=>{m("node-click",e)},m=c;return v(a,e=>{r.value.filter(e)}),y(async()=>{await(async()=>{const e=await T();n.value=[],n.value.push(...C(e))})()}),(e,s)=>{const u=j,h=D;return x(),_(g,null,[d("div",F,[t(h,{modelValue:l(a),"onUpdate:modelValue":s[0]||(s[0]=f=>V(a)?a.value=f:null),class:"mb-20px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"},{prefix:w(()=>[t(u,{icon:"ep:search"})]),_:1},8,["modelValue"])]),d("div",N,[t(l(b),{ref_key:"treeRef",ref:r,data:l(n),"expand-on-click-node":!1,"filter-node-method":i,props:l(U),"default-expand-all":"","highlight-current":"","node-key":"id",onNodeClick:p},null,8,["data","props"])])],64)}}});export{R as _};
